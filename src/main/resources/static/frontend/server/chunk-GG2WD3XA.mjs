import './polyfills.server.mjs';
import{$ as ge,A as ni,B as c,C as Z,Ca as gi,D as r,E as o,F as u,G as $e,Ga as Ze,H as qe,I as x,Ia as Ke,J as p,Ja as fi,K as m,Ka as bi,L as ae,La as vi,M as a,N as C,O as S,P as N,Q as ze,R as ri,S as v,T as _,U as y,V as se,W as I,X as Wt,Y,Z as Je,_ as te,a as Xt,b as Qt,ba as oi,c as ei,d as ti,e as ii,f as Ge,fa as ai,g as oe,h as M,ha as si,i as Ht,j as ue,ja as Bt,k as w,ka as Ae,l as E,la as le,m as jt,ma as li,n as J,na as Gt,o as Lt,p as g,pa as di,q as f,qa as A,r as he,ra as T,s as Fe,sa as de,t as ke,ta as P,u as d,ua as D,v as b,va as ci,w as Oe,wa as mi,x as Re,xa as pi,y as X,ya as ui,z as h,za as hi}from"./chunk-RHNG3KPH.mjs";import{a as R,b as ee}from"./chunk-5XUXGTUW.mjs";var Ye=class i{title="frontend";static \u0275fac=function(e){return new(e||i)};static \u0275cmp=E({type:i,selectors:[["app-root"]],standalone:!0,features:[I],decls:1,vars:0,template:function(e,n){e&1&&u(0,"router-outlet")},dependencies:[Ze,pi]})};function rn(i,t){i&1&&(r(0,"span"),a(1,"Administraci\xF3n"),o())}function on(i,t){i&1&&(r(0,"div",20)(1,"a",21),u(2,"i",22),r(3,"span"),a(4,"Roles"),o()(),r(5,"a",23),u(6,"i",24),r(7,"span"),a(8,"Usuarios"),o()(),r(9,"a",25),u(10,"i",26),r(11,"span"),a(12,"Cambiar Contrase\xF1a"),o()(),r(13,"a",27),u(14,"i",28),r(15,"span"),a(16,"Permisos"),o()()())}function an(i,t){i&1&&(r(0,"span"),a(1,"Pacientes y M\xE9dicos"),o())}function sn(i,t){i&1&&(r(0,"div",20)(1,"a",29),u(2,"i",30),r(3,"span"),a(4,"Pacientes"),o()(),r(5,"a",31),u(6,"i",32),r(7,"span"),a(8,"M\xE9dicos"),o()(),r(9,"a",33),u(10,"i",34),r(11,"span"),a(12,"Especialidades"),o()(),r(13,"a",35),u(14,"i",36),r(15,"span"),a(16,"Asignar Especialidad"),o()()())}function ln(i,t){i&1&&(r(0,"span"),a(1,"Horarios y Cupos"),o())}function dn(i,t){i&1&&(r(0,"div",20)(1,"a",37),u(2,"i",38),r(3,"span"),a(4,"Horarios"),o()(),r(5,"a",39),u(6,"i",40),r(7,"span"),a(8,"Asignar Horario"),o()(),r(9,"a",41),u(10,"i",42),r(11,"span"),a(12,"Cupos"),o()()())}function cn(i,t){i&1&&(r(0,"span"),a(1,"Reservas y Consultas"),o())}function mn(i,t){i&1&&(r(0,"div",20)(1,"a",43),u(2,"i",44),r(3,"span"),a(4,"Reservas"),o()(),r(5,"a",45),u(6,"i",46),r(7,"span"),a(8,"Consultas M\xE9dicas"),o()(),r(9,"a",47),u(10,"i",48),r(11,"span"),a(12,"Postergaci\xF3n"),o()()())}function pn(i,t){i&1&&(r(0,"span"),a(1,"Medicamentos y Recetas"),o())}function un(i,t){i&1&&(r(0,"div",20)(1,"a",49),u(2,"i",50),r(3,"span"),a(4,"Medicamentos"),o()()())}function hn(i,t){i&1&&(r(0,"span"),a(1,"Laboratorio e Historias Cl\xEDnicas"),o())}function gn(i,t){i&1&&(r(0,"div",20)(1,"a",51),u(2,"i",52),r(3,"span"),a(4,"Documentos Laboratorio"),o()(),r(5,"a",53),u(6,"i",54),r(7,"span"),a(8,"Historias Cl\xEDnicas"),o()()())}function fn(i,t){i&1&&(r(0,"span",55),a(1,"Logout"),o())}var Xe=class i{constructor(t){this.router=t}isCollapsed=!1;adminOpen=!0;pacientesOpen=!1;horariosOpen=!1;reservasOpen=!1;medicamentosOpen=!1;laboratorioOpen=!1;toggleSidebar(){this.isCollapsed=!this.isCollapsed}isActive(t){return this.router.url===t}static \u0275fac=function(e){return new(e||i)(b(Ke))};static \u0275cmp=E({type:i,selectors:[["app-sidebar"]],standalone:!0,features:[I],decls:47,vars:43,consts:[[1,"h-screen","bg-gray-50","shadow-md","flex","flex-col","items-start","transition-width","duration-300"],[1,"p-6","text-blue-600","font-extrabold","text-3xl","flex","items-center","space-x-3","w-full"],[1,"fas","fa-clinic-medical","text-blue-600","text-4xl"],[1,"ml-2"],[1,"mb-0","text-gray-600","rounded-full","transition-all"],[1,"flex","flex-col","w-full","flex-grow","space-y-4"],[1,"sidebar-section-header","flex","items-center","p-4","cursor-pointer","text-gray-500","hover:text-blue-600","font-semibold","text-lg",3,"click"],[1,"fas","fa-user-cog","mr-4","text-gray-500"],[4,"ngIf"],[1,"fas","ml-auto"],["class","pl-6 space-y-2",4,"ngIf"],[1,"fas","fa-user-injured","mr-4","text-gray-500"],[1,"fas","fa-clock","mr-4","text-gray-500"],[1,"fas","fa-calendar-alt","mr-4","text-gray-500"],[1,"fas","fa-capsules","mr-4","text-gray-500"],[1,"fas","fa-vials","mr-4","text-gray-500"],[1,"flex","flex-col","items-center","w-full","p-6"],["routerLink","/logout",1,"flex","items-center","text-gray-600","hover:text-red-600","w-full","justify-center"],[1,"fas","fa-sign-out-alt"],["class","ml-3",4,"ngIf"],[1,"pl-6","space-y-2"],["routerLink","/admin/roles",1,"sidebar-link"],[1,"fas","fa-user-shield","mr-3"],["routerLink","/admin/users",1,"sidebar-link"],[1,"fas","fa-users","mr-3"],["routerLink","/admin/change-password",1,"sidebar-link"],[1,"fas","fa-key","mr-3"],["routerLink","/admin/permisos",1,"sidebar-link"],[1,"fas","fa-unlock-alt","mr-3"],["routerLink","/admin/pacientes",1,"sidebar-link"],[1,"fas","fa-user-injured","mr-3"],["routerLink","/admin/medicos",1,"sidebar-link"],[1,"fas","fa-user-md","mr-3"],["routerLink","/admin/especialidades",1,"sidebar-link"],[1,"fas","fa-stethoscope","mr-3"],["routerLink","/admin/asociar-especialidad-medico",1,"sidebar-link"],[1,"fas","fa-user-tag","mr-3"],["routerLink","/admin/horario",1,"sidebar-link"],[1,"fas","fa-clock","mr-3"],["routerLink","/admin/asignar",1,"sidebar-link"],[1,"fas","fa-user-clock","mr-3"],["routerLink","/admin/cupo",1,"sidebar-link"],[1,"fas","fa-calendar-check","mr-3"],["routerLink","/admin/reserva",1,"sidebar-link"],[1,"fas","fa-calendar-alt","mr-3"],["routerLink","/admin/consulta",1,"sidebar-link"],[1,"fas","fa-notes-medical","mr-3"],["routerLink","/admin/postergacion",1,"sidebar-link"],[1,"fas","fa-calendar-times","mr-3"],["routerLink","/admin/medicamento",1,"sidebar-link"],[1,"fas","fa-capsules","mr-3"],["routerLink","/admin/docu-laboratorio",1,"sidebar-link"],[1,"fas","fa-file-medical","mr-3"],["routerLink","/admin/historial",1,"sidebar-link"],[1,"fas","fa-book-medical","mr-3"],[1,"ml-3"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1),u(2,"i",2),r(3,"span",3),a(4,"SSVS"),o()(),u(5,"button",4),r(6,"nav",5)(7,"div")(8,"div",6),p("click",function(){return n.adminOpen=!n.adminOpen}),u(9,"i",7),h(10,rn,2,0,"span",8),u(11,"i",9),o(),h(12,on,17,0,"div",10),o(),r(13,"div")(14,"div",6),p("click",function(){return n.pacientesOpen=!n.pacientesOpen}),u(15,"i",11),h(16,an,2,0,"span",8),u(17,"i",9),o(),h(18,sn,17,0,"div",10),o(),r(19,"div")(20,"div",6),p("click",function(){return n.horariosOpen=!n.horariosOpen}),u(21,"i",12),h(22,ln,2,0,"span",8),u(23,"i",9),o(),h(24,dn,13,0,"div",10),o(),r(25,"div")(26,"div",6),p("click",function(){return n.reservasOpen=!n.reservasOpen}),u(27,"i",13),h(28,cn,2,0,"span",8),u(29,"i",9),o(),h(30,mn,13,0,"div",10),o(),r(31,"div")(32,"div",6),p("click",function(){return n.medicamentosOpen=!n.medicamentosOpen}),u(33,"i",14),h(34,pn,2,0,"span",8),u(35,"i",9),o(),h(36,un,5,0,"div",10),o(),r(37,"div")(38,"div",6),p("click",function(){return n.laboratorioOpen=!n.laboratorioOpen}),u(39,"i",15),h(40,hn,2,0,"span",8),u(41,"i",9),o(),h(42,gn,9,0,"div",10),o()(),r(43,"div",16)(44,"a",17),u(45,"i",18),h(46,fn,2,0,"span",19),o()()()),e&2&&(d(10),c("ngIf",!n.isCollapsed),d(),Z("fa-chevron-down",n.adminOpen)("fa-chevron-right",!n.adminOpen),d(),c("ngIf",n.adminOpen&&!n.isCollapsed),d(4),c("ngIf",!n.isCollapsed),d(),Z("fa-chevron-down",n.pacientesOpen)("fa-chevron-right",!n.pacientesOpen),d(),c("ngIf",n.pacientesOpen&&!n.isCollapsed),d(4),c("ngIf",!n.isCollapsed),d(),Z("fa-chevron-down",n.horariosOpen)("fa-chevron-right",!n.horariosOpen),d(),c("ngIf",n.horariosOpen&&!n.isCollapsed),d(4),c("ngIf",!n.isCollapsed),d(),Z("fa-chevron-down",n.reservasOpen)("fa-chevron-right",!n.reservasOpen),d(),c("ngIf",n.reservasOpen&&!n.isCollapsed),d(4),c("ngIf",!n.isCollapsed),d(),Z("fa-chevron-down",n.medicamentosOpen)("fa-chevron-right",!n.medicamentosOpen),d(),c("ngIf",n.medicamentosOpen&&!n.isCollapsed),d(4),c("ngIf",!n.isCollapsed),d(),Z("fa-chevron-down",n.laboratorioOpen)("fa-chevron-right",!n.laboratorioOpen),d(),c("ngIf",n.laboratorioOpen&&!n.isCollapsed),d(2),Z("justify-start",!n.isCollapsed),d(),Z("text-lg",!n.isCollapsed)("text-2xl",n.isCollapsed),d(),c("ngIf",!n.isCollapsed))},dependencies:[P,T,vi,fi],styles:[".sidebar-section-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 18px;font-size:1.15rem;color:#6b7280;background-color:#f9fafb;border-radius:8px;transition:color .3s}.sidebar-section-header[_ngcontent-%COMP%]:hover{color:#2563eb}.sidebar-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 24px;color:#4b5563;font-size:1rem;transition:color .3s,background-color .3s;border-radius:6px}.sidebar-link[_ngcontent-%COMP%]:hover{background-color:#e0f2fe;color:#2563eb}"]})};var me=class extends Error{};me.prototype.name="InvalidTokenError";function bn(i){return decodeURIComponent(atob(i).replace(/(.)/g,(t,e)=>{let n=e.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function vn(i){let t=i.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return bn(t)}catch{return atob(t)}}function _i(i,t){if(typeof i!="string")throw new me("Invalid token specified: must be a string");t||(t={});let e=t.header===!0?0:1,n=i.split(".")[e];if(typeof n!="string")throw new me(`Invalid token specified: missing part #${e+1}`);let s;try{s=vn(n)}catch(l){throw new me(`Invalid token specified: invalid base64 for part #${e+1} (${l.message})`)}try{return JSON.parse(s)}catch(l){throw new me(`Invalid token specified: invalid json for part #${e+1} (${l.message})`)}}var ce=class i{constructor(t){this.http=t}apiUrl="https://ssvsbackend-production.up.railway.app/auth";tokenKey="token";login(t,e){return this.http.post(`${this.apiUrl}/login`,{email:t,password:e})}setToken(t){typeof window<"u"&&localStorage.setItem(this.tokenKey,t)}getToken(){return typeof window<"u"?localStorage.getItem(this.tokenKey):null}getUserFromToken(){let t=this.getToken();return t?_i(t):null}getMedicoIdFromToken(){let t=this.getUserFromToken();return t?t.medicoId:null}logout(){typeof window<"u"&&localStorage.removeItem(this.tokenKey)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};var Qe=class i{constructor(t){this.authService=t}user;ngOnInit(){this.user=this.authService.getUserFromToken()}logout(){this.authService.logout()}static \u0275fac=function(e){return new(e||i)(b(ce))};static \u0275cmp=E({type:i,selectors:[["app-header"]],standalone:!0,features:[I],decls:8,vars:1,consts:[[1,"flex","justify-end","items-center","p-4","bg-transparent","w-full"],[1,"relative","ml-4"],[1,"fas","fa-bell","text-gray-500","text-2xl","hover:text-gray-700","cursor-pointer"],[1,"absolute","top-0","right-0","inline-block","w-2.5","h-2.5","bg-red-500","rounded-full"],[1,"flex","items-center","space-x-3","ml-4"],[1,"text-blue-500","font-medium","text-xl"],[1,"fas","fa-user-circle","text-blue-500","text-3xl"]],template:function(e,n){e&1&&(r(0,"header",0)(1,"div",1),u(2,"i",2)(3,"span",3),o(),r(4,"div",4)(5,"span",5),a(6),o(),u(7,"i",6),o()()),e&2&&(d(6),S(" ",(n.user==null?null:n.user.nombre)||"Usuario"," "))}})};var et=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=E({type:i,selectors:[["app-layout"]],standalone:!0,features:[I],decls:6,vars:0,consts:[[1,"flex","h-screen","bg-gray-100"],[1,"flex-1"],[1,"p-6"]],template:function(e,n){e&1&&(r(0,"div",0),u(1,"app-sidebar"),r(2,"div",1),u(3,"app-header"),r(4,"div",2),u(5,"router-outlet"),o()()())},dependencies:[Xe,Ze,Qe]})};var Vi=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(n){return new(n||i)(b(Oe),b(ke))}}static{this.\u0275dir=J({type:i})}}return i})(),lt=(()=>{class i extends Vi{static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=he(i)))(s||i)}})()}static{this.\u0275dir=J({type:i,features:[X]})}}return i})(),We=new ue("");var _n={provide:We,useExisting:oe(()=>U),multi:!0};function yn(){let i=Gt()?Gt().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Cn=new ue(""),U=(()=>{class i extends Vi{constructor(e,n,s){super(e,n),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!yn())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(n){return new(n||i)(b(Oe),b(ke),b(Cn,8))}}static{this.\u0275dir=J({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,s){n&1&&p("input",function(H){return s._handleInput(H.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(H){return s._compositionEnd(H.target.value)})},features:[se([_n]),X]})}}return i})();function xn(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}var zt=new ue(""),Pi=new ue("");function Sn(i){return xn(i.value)?{required:!0}:null}function yi(i){return null}function Fi(i){return i!=null}function ki(i){return oi(i)?ei(i):i}function Oi(i){let t={};return i.forEach(e=>{t=e!=null?R(R({},t),e):t}),Object.keys(t).length===0?null:t}function Ri(i,t){return t.map(e=>e(i))}function Mn(i){return!i.validate}function Ai(i){return i.map(t=>Mn(t)?t:e=>t.validate(e))}function wn(i){if(!i)return null;let t=i.filter(Fi);return t.length==0?null:function(e){return Oi(Ri(e,t))}}function Jt(i){return i!=null?wn(Ai(i)):null}function En(i){if(!i)return null;let t=i.filter(Fi);return t.length==0?null:function(e){let n=Ri(e,t).map(ki);return ii(n).pipe(ti(Oi))}}function Zt(i){return i!=null?En(Ai(i)):null}function Ci(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function In(i){return i._rawValidators}function Dn(i){return i._rawAsyncValidators}function qt(i){return i?Array.isArray(i)?i:[i]:[]}function it(i,t){return Array.isArray(i)?i.includes(t):i===t}function xi(i,t){let e=qt(t);return qt(i).forEach(s=>{it(e,s)||e.push(s)}),e}function Si(i,t){return qt(t).filter(e=>!it(i,e))}var nt=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Jt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Zt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},ve=class extends nt{get formDirective(){return null}get path(){return null}},Le=class extends nt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},rt=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Vn={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ya=ee(R({},Vn),{"[class.ng-submitted]":"isSubmitted"}),O=(()=>{class i extends rt{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||i)(b(Le,2))}}static{this.\u0275dir=J({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,s){n&2&&Z("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[X]})}}return i})(),ie=(()=>{class i extends rt{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||i)(b(ve,10))}}static{this.\u0275dir=J({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,s){n&2&&Z("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[X]})}}return i})();var Ne="VALID",tt="INVALID",fe="PENDING",Te="DISABLED",_e=class{},ot=class extends _e{constructor(t,e){super(),this.value=t,this.source=e}},He=class extends _e{constructor(t,e){super(),this.pristine=t,this.source=e}},je=class extends _e{constructor(t,e){super(),this.touched=t,this.source=e}},be=class extends _e{constructor(t,e){super(),this.status=t,this.source=e}};function Ni(i){return(dt(i)?i.validators:i)||null}function Pn(i){return Array.isArray(i)?Jt(i):i||null}function Ti(i,t){return(dt(t)?t.asyncValidators:i)||null}function Fn(i){return Array.isArray(i)?Zt(i):i||null}function dt(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function kn(i,t,e){let n=i.controls;if(!(t?Object.keys(n):n).length)throw new Ge(1e3,"");if(!n[e])throw new Ge(1001,"")}function On(i,t,e){i._forEachChild((n,s)=>{if(e[s]===void 0)throw new Ge(1002,"")})}var at=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ae(()=>this.statusReactive()),this.statusReactive=Re(void 0),this._pristine=Ae(()=>this.pristineReactive()),this.pristineReactive=Re(!0),this._touched=Ae(()=>this.touchedReactive()),this.touchedReactive=Re(!1),this._events=new Qt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return le(this.statusReactive)}set status(t){le(()=>this.statusReactive.set(t))}get valid(){return this.status===Ne}get invalid(){return this.status===tt}get pending(){return this.status==fe}get disabled(){return this.status===Te}get enabled(){return this.status!==Te}get pristine(){return le(this.pristineReactive)}set pristine(t){le(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return le(this.touchedReactive)}set touched(t){le(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(xi(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(xi(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Si(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Si(t,this._rawAsyncValidators))}hasValidator(t){return it(this._rawValidators,t)}hasAsyncValidator(t){return it(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ee(R({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new je(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new je(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ee(R({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new He(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new He(!0,n))}markAsPending(t={}){this.status=fe;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new be(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ee(R({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Te,this.errors=null,this._forEachChild(s=>{s.disable(ee(R({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ot(this.value,n)),this._events.next(new be(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(R({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ne,this._forEachChild(n=>{n.enable(ee(R({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ee(R({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ne||this.status===fe)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ot(this.value,e)),this._events.next(new be(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ee(R({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Te:Ne}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=fe,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=ki(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,s)=>n&&n._find(s),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new be(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?Te:this.errors?tt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fe)?fe:this._anyControlsHaveStatus(tt)?tt:Ne}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),s=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),s&&this._events.next(new He(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new je(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){dt(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Pn(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Fn(this._rawAsyncValidators)}},st=class extends at{constructor(t,e,n){super(Ni(e),Ti(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){On(this,!0,t),Object.keys(t).forEach(n=>{kn(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let s=this.controls[n];s&&s.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,s)=>{n.reset(t?t[s]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,s)=>((n.enabled||this.disabled)&&(e[s]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((s,l)=>{n=e(n,s,l)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Kt=new ue("CallSetDisabledState",{providedIn:"root",factory:()=>Yt}),Yt="always";function Rn(i,t){return[...t.path,i]}function Ui(i,t,e=Yt){Hi(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),Nn(i,t),Un(i,t),Tn(i,t),An(i,t)}function Mi(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function An(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function Hi(i,t){let e=In(i);t.validator!==null?i.setValidators(Ci(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=Dn(i);t.asyncValidator!==null?i.setAsyncValidators(Ci(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let s=()=>i.updateValueAndValidity();Mi(t._rawValidators,s),Mi(t._rawAsyncValidators,s)}function Nn(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&ji(i,t)})}function Tn(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&ji(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function ji(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Un(i,t){let e=(n,s)=>{t.valueAccessor.writeValue(n),s&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function Hn(i,t){i==null,Hi(i,t)}function jn(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Ln(i){return Object.getPrototypeOf(i.constructor)===lt}function Wn(i,t){i._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Bn(i,t){if(!t)return null;Array.isArray(t);let e,n,s;return t.forEach(l=>{l.constructor===U?e=l:Ln(l)?n=l:s=l}),s||n||e||null}var Gn={provide:ve,useExisting:oe(()=>Q)},Ue=Promise.resolve(),Q=(()=>{class i extends ve{get submitted(){return le(this.submittedReactive)}constructor(e,n,s){super(),this.callSetDisabledState=s,this._submitted=Ae(()=>this.submittedReactive()),this.submittedReactive=Re(!1),this._directives=new Set,this.ngSubmit=new Fe,this.form=new st({},Jt(e),Zt(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ue.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Ui(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ue.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Ue.then(()=>{let n=this._findContainer(e.path),s=new st({});Hn(s,e),n.registerControl(e.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ue.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){Ue.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Wn(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(n){return new(n||i)(b(zt,10),b(Pi,10),b(Kt,8))}}static{this.\u0275dir=J({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,s){n&1&&p("submit",function(H){return s.onSubmit(H)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[se([Gn]),X]})}}return i})();function wi(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function Ei(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var $n=class extends at{constructor(t=null,e,n){super(Ni(e),Ti(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dt(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Ei(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){wi(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){wi(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Ei(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var qn={provide:Le,useExisting:oe(()=>k)},Ii=Promise.resolve(),k=(()=>{class i extends Le{constructor(e,n,s,l,H,re){super(),this._changeDetectorRef=H,this.callSetDisabledState=re,this.control=new $n,this._registered=!1,this.name="",this.update=new Fe,this._parent=e,this._setValidators(n),this._setAsyncValidators(s),this.valueAccessor=Bn(this,l)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),jn(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ui(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Ii.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,s=n!==0&&Bt(n);Ii.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Rn(e,this._parent):[e]}static{this.\u0275fac=function(n){return new(n||i)(b(ve,9),b(zt,10),b(Pi,10),b(We,10),b(si,8),b(Kt,8))}}static{this.\u0275dir=J({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[se([qn]),X,Lt]})}}return i})(),ne=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=J({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return i})(),zn={provide:We,useExisting:oe(()=>pe),multi:!0},pe=(()=>{class i extends lt{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=he(i)))(s||i)}})()}static{this.\u0275dir=J({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,s){n&1&&p("input",function(H){return s.onChange(H.target.value)})("blur",function(){return s.onTouched()})},features:[se([zn]),X]})}}return i})();var Jn={provide:We,useExisting:oe(()=>j),multi:!0};function Li(i,t){return i==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function Zn(i){return i.split(":")[0]}var j=(()=>{class i extends lt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n=this._getOptionId(e),s=Li(n,e);this.setProperty("value",s)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=Zn(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=he(i)))(s||i)}})()}static{this.\u0275dir=J({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,s){n&1&&p("change",function(H){return s.onChange(H.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[se([Jn]),X]})}}return i})(),B=(()=>{class i{constructor(e,n,s){this._element=e,this._renderer=n,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(Li(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||i)(b(ke),b(Oe),b(j,9))}}static{this.\u0275dir=J({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})(),Kn={provide:We,useExisting:oe(()=>Wi),multi:!0};function Di(i,t){return i==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function Yn(i){return i.split(":")[0]}var Wi=(()=>{class i extends lt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n;if(Array.isArray(e)){let s=e.map(l=>this._getOptionId(l));n=(l,H)=>{l._setSelected(s.indexOf(H.toString())>-1)}}else n=(s,l)=>{s._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let s=[],l=n.selectedOptions;if(l!==void 0){let H=l;for(let re=0;re<H.length;re++){let Be=H[re],Ut=this._getOptionValue(Be.value);s.push(Ut)}}else{let H=n.options;for(let re=0;re<H.length;re++){let Be=H[re];if(Be.selected){let Ut=this._getOptionValue(Be.value);s.push(Ut)}}}this.value=s,e(s)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=Yn(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=he(i)))(s||i)}})()}static{this.\u0275dir=J({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,s){n&1&&p("change",function(H){return s.onChange(H.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[se([Kn]),X]})}}return i})(),G=(()=>{class i{constructor(e,n,s){this._element=e,this._renderer=n,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Di(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Di(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||i)(b(ke),b(Oe),b(Wi,9))}}static{this.\u0275dir=J({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})();var Xn=(()=>{class i{constructor(){this._validator=yi}ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):yi,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=J({type:i,features:[Lt]})}}return i})();var Qn={provide:zt,useExisting:oe(()=>$),multi:!0};var $=(()=>{class i extends Xn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Bt,this.createValidator=e=>Sn}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=he(i)))(s||i)}})()}static{this.\u0275dir=J({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,s){n&2&&ni("required",s._enabled?"":null)},inputs:{required:"required"},features:[se([Qn]),X]})}}return i})();var er=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=jt({type:i})}static{this.\u0275inj=Ht({})}}return i})();var F=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Kt,useValue:e.callSetDisabledState??Yt}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=jt({type:i})}static{this.\u0275inj=Ht({imports:[er]})}}return i})();var ye=class i{constructor(t){this.http=t}apiUrl="https://ssvsbackend-production.up.railway.app/api/roles";getRoles(){return this.http.get(this.apiUrl)}createRole(t){return this.http.post(this.apiUrl,t)}updateRole(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deleteRole(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};function tr(i,t){if(i&1&&($e(0),r(1,"td",28),a(2),o(),qe()),i&2){let e=m().$implicit;d(2),C(e.nombre)}}function ir(i,t){if(i&1){let e=x();r(0,"input",30),y("ngModelChange",function(s){g(e);let l=m(3);return _(l.editingRole.nombre,s)||(l.editingRole.nombre=s),f(s)}),o()}if(i&2){let e=m(3);v("ngModel",e.editingRole.nombre)}}function nr(i,t){if(i&1&&(r(0,"td",28),h(1,ir,1,1,"input",29),o()),i&2){let e=m(2);d(),c("ngIf",e.editingRole)}}function rr(i,t){if(i&1){let e=x();r(0,"button",31),p("click",function(){g(e);let s=m().$implicit,l=m();return f(l.editRole(s))}),u(1,"i",32),r(2,"span"),a(3,"Edit"),o()()}}function or(i,t){if(i&1){let e=x();r(0,"button",33),p("click",function(){g(e);let s=m(2);return f(s.updateRole())}),u(1,"i",34),r(2,"span"),a(3,"Save"),o()()}}function ar(i,t){if(i&1){let e=x();r(0,"button",35),p("click",function(){g(e);let s=m(2);return f(s.cancelEdit())}),u(1,"i",36),r(2,"span"),a(3,"Cancel"),o()()}}function sr(i,t){if(i&1){let e=x();r(0,"tr",20),h(1,tr,3,1,"ng-container",21)(2,nr,2,1,"ng-template",null,0,ge),r(4,"td",22),h(5,rr,4,0,"button",23)(6,or,4,0,"button",24)(7,ar,4,0,"button",25),r(8,"button",26),p("click",function(){let s=g(e).$implicit,l=m();return f(l.deleteRole(s.id))}),u(9,"i",27),r(10,"span"),a(11,"Delete"),o()()()()}if(i&2){let e=t.$implicit,n=ae(3),s=m();d(),c("ngIf",!s.editingRole||s.editingRole.id!==e.id)("ngIfElse",n),d(4),c("ngIf",!s.editingRole||s.editingRole.id!==e.id),d(),c("ngIf",s.editingRole&&s.editingRole.id===e.id),d(),c("ngIf",s.editingRole&&s.editingRole.id===e.id)}}var ct=class i{constructor(t){this.roleService=t}roles=[];newRole={nombre:""};editingRole=null;ngOnInit(){this.fetchRoles()}fetchRoles(){this.roleService.getRoles().subscribe(t=>{this.roles=t.sort((e,n)=>e.id-n.id)})}createRole(){this.newRole.nombre&&this.newRole&&this.roleService.createRole(this.newRole).subscribe(()=>{this.fetchRoles(),this.newRole={nombre:""}})}editRole(t){this.editingRole=R({},t)}updateRole(){this.editingRole&&this.editingRole.id&&this.roleService.updateRole(this.editingRole.id,this.editingRole).subscribe(()=>{this.fetchRoles(),this.editingRole=null})}cancelEdit(){this.editingRole=null}deleteRole(t){confirm("Are you sure you want to delete this role?")&&this.roleService.deleteRole(t).subscribe(()=>{this.fetchRoles()})}static \u0275fac=function(e){return new(e||i)(b(ye))};static \u0275cmp=E({type:i,selectors:[["app-roles"]],standalone:!0,features:[I],decls:31,vars:2,consts:[["editTemplate",""],[1,"bg-gray-50","min-h-screen","p-8"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-4xl","font-bold","text-gray-800","flex","items-center","space-x-3"],[1,"fas","fa-users-cog","text-blue-700"],[1,"flex","items-center","bg-gradient-to-r","from-blue-500","to-blue-600","text-white","px-5","py-3","rounded-lg","shadow-lg","hover:from-blue-600","hover:to-blue-700","transition","duration-300","focus:outline-none","space-x-2",3,"click"],[1,"fas","fa-plus-circle"],[1,"mb-8","bg-white","p-6","rounded-lg","shadow-lg"],[1,"text-xl","font-semibold","text-gray-700","mb-4"],[1,"flex","items-center","mb-4"],[1,"fas","fa-user-tag","text-gray-400","mr-3"],["type","text","placeholder","Role Name",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],[1,"w-full","bg-blue-600","text-white","py-3","rounded-lg","hover:bg-blue-700","transition","duration-300",3,"click"],[1,"bg-white","rounded-lg","shadow-lg","p-6"],[1,"overflow-x-auto"],[1,"min-w-full","bg-white","border","border-gray-200","rounded-lg"],[1,"bg-gray-100","text-gray-600","text-sm","uppercase","tracking-wider"],[1,"py-4","px-6","text-left","font-medium","border-b","border-gray-300"],[1,"py-4","px-6","text-center","font-medium","border-b","border-gray-300"],["class","hover:bg-gray-50 text-gray-800",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50","text-gray-800"],[4,"ngIf","ngIfElse"],[1,"py-4","px-6","border-b","border-gray-200","flex","justify-center","space-x-4"],["class","bg-blue-100 text-blue-600 px-4 py-2 rounded-full shadow hover:bg-blue-200 transition duration-300 flex items-center space-x-1",3,"click",4,"ngIf"],["class","bg-green-100 text-green-600 px-4 py-2 rounded-full shadow hover:bg-green-200 transition duration-300 flex items-center space-x-1",3,"click",4,"ngIf"],["class","bg-gray-100 text-gray-600 px-4 py-2 rounded-full shadow hover:bg-gray-200 transition duration-300 flex items-center space-x-1",3,"click",4,"ngIf"],[1,"bg-red-100","text-red-600","px-4","py-2","rounded-full","shadow","hover:bg-red-200","transition","duration-300","flex","items-center","space-x-1",3,"click"],[1,"fas","fa-trash-alt"],[1,"py-4","px-6","border-b","border-gray-200"],["class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400",3,"ngModel","ngModelChange",4,"ngIf"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],[1,"bg-blue-100","text-blue-600","px-4","py-2","rounded-full","shadow","hover:bg-blue-200","transition","duration-300","flex","items-center","space-x-1",3,"click"],[1,"fas","fa-edit"],[1,"bg-green-100","text-green-600","px-4","py-2","rounded-full","shadow","hover:bg-green-200","transition","duration-300","flex","items-center","space-x-1",3,"click"],[1,"fas","fa-save"],[1,"bg-gray-100","text-gray-600","px-4","py-2","rounded-full","shadow","hover:bg-gray-200","transition","duration-300","flex","items-center","space-x-1",3,"click"],[1,"fas","fa-times"]],template:function(e,n){e&1&&(r(0,"div",1)(1,"div",2)(2,"h1",3),u(3,"i",4),r(4,"span"),a(5,"Role Management"),o()(),r(6,"button",5),p("click",function(){return n.createRole()}),u(7,"i",6),r(8,"span"),a(9,"New Role"),o()()(),r(10,"div",7)(11,"h2",8),a(12,"Add a New Role"),o(),r(13,"div",9),u(14,"i",10),r(15,"input",11),y("ngModelChange",function(l){return _(n.newRole.nombre,l)||(n.newRole.nombre=l),l}),o()(),r(16,"button",12),p("click",function(){return n.createRole()}),a(17," Add Role "),o()(),r(18,"div",13)(19,"h2",8),a(20,"Roles List"),o(),r(21,"div",14)(22,"table",15)(23,"thead")(24,"tr",16)(25,"th",17),a(26,"Role Name"),o(),r(27,"th",18),a(28,"Actions"),o()()(),r(29,"tbody"),h(30,sr,12,5,"tr",19),o()()()()()),e&2&&(d(15),v("ngModel",n.newRole.nombre),d(15),c("ngForOf",n.roles))},dependencies:[P,A,T,F,U,O,k]})};var K=class i{constructor(t){this.http=t}apiUrl="https://ssvsbackend-production.up.railway.app/api/usuarios";getUsers(){return this.http.get(this.apiUrl)}getUserById(t){return this.http.get(`${this.apiUrl}/${t}`)}createUser(t){return this.http.post(this.apiUrl,t)}updateUser(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deleteUser(t){return this.http.delete(`${this.apiUrl}/${t}`)}changePassword(t,e){return this.http.post(`${this.apiUrl}/change-password`,{currentPassword:t,newPassword:e})}getUsuariosConRolPaciente(){return this.http.get(`${this.apiUrl}/pacientes`)}getUsuariosConRolMedico(){return this.http.get(`${this.apiUrl}/medicos`)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};function lr(i,t){if(i&1){let e=x();r(0,"div",7),u(1,"i",32),r(2,"input",33),y("ngModelChange",function(s){g(e);let l=m();return _(l.selectedUser.password,s)||(l.selectedUser.password=s),f(s)}),p("input",function(){g(e);let s=m();return f(s.passwordChanged=!0)}),o()()}if(i&2){let e=m();d(2),v("ngModel",e.selectedUser.password),c("required",!e.editingUser)}}function dr(i,t){if(i&1&&(r(0,"option",34),a(1),o()),i&2){let e=t.$implicit;c("value",e.id),d(),C(e.nombre)}}function cr(i,t){if(i&1){let e=x();r(0,"button",35),p("click",function(){g(e);let s=m();return f(s.cancelEdit())}),a(1," Cancel "),o()}}function mr(i,t){if(i&1){let e=x();r(0,"tr",36)(1,"td",37),a(2),o(),r(3,"td",37),a(4),o(),r(5,"td",37),a(6),o(),r(7,"td",37),a(8),o(),r(9,"td",38)(10,"button",39),p("click",function(){let s=g(e).$implicit,l=m();return f(l.editUser(s))}),u(11,"i",40),r(12,"span"),a(13,"Edit"),o()(),r(14,"button",41),p("click",function(){let s=g(e).$implicit,l=m();return f(l.deleteUser(s.id))}),u(15,"i",42),r(16,"span"),a(17,"Delete"),o()()()()}if(i&2){let e=t.$implicit,n=m();d(2),N("",e.nombre," ",e.apellido,""),d(2),C(e.email),d(2),C(e.telefono),d(2),C(n.getRoleName(e.rolId))}}var mt=class i{constructor(t,e){this.userService=t;this.roleService=e}users=[];roles=[];selectedUser={nombre:"",apellido:"",email:"",password:"",telefono:"",direccion:"",rolId:null};editingUser=!1;passwordChanged=!1;ngOnInit(){this.fetchUsers(),this.fetchRoles()}fetchUsers(){this.userService.getUsers().subscribe(t=>{this.users=t.sort((e,n)=>(e.id??0)-(n.id??0))})}fetchRoles(){this.roleService.getRoles().subscribe(t=>{this.roles=t})}createUser(){this.selectedUser&&this.userService.createUser(this.selectedUser).subscribe(()=>{this.fetchUsers(),this.resetSelectedUser()})}editUser(t){this.selectedUser=R({},t),this.selectedUser.password="",this.passwordChanged=!1,this.editingUser=!0}updateUser(){this.selectedUser&&this.selectedUser.id&&(this.passwordChanged||delete this.selectedUser.password,this.userService.updateUser(this.selectedUser.id,this.selectedUser).subscribe(()=>{this.fetchUsers(),this.cancelEdit()}))}deleteUser(t){this.userService.deleteUser(t).subscribe(()=>{this.fetchUsers()})}cancelEdit(){this.resetSelectedUser(),this.editingUser=!1}resetSelectedUser(){this.selectedUser={nombre:"",apellido:"",email:"",password:"",telefono:"",direccion:"",rolId:null},this.passwordChanged=!1}getRoleName(t){let e=this.roles.find(n=>n.id===t);return e?e.nombre:"N/A"}static \u0275fac=function(e){return new(e||i)(b(K),b(ye))};static \u0275cmp=E({type:i,selectors:[["app-users"]],standalone:!0,features:[I],decls:55,vars:12,consts:[[1,"bg-gray-50","min-h-screen","p-8"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-4xl","font-bold","text-gray-800","flex","items-center","space-x-3"],[1,"fas","fa-user-plus","text-blue-700"],[1,"mb-8","bg-white","p-6","rounded-lg","shadow-lg"],[1,"text-xl","font-semibold","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"flex","items-center"],[1,"fas","fa-user","text-gray-400","mr-3"],["type","text","placeholder","First Name","name","nombre","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],[1,"fas","fa-user-tag","text-gray-400","mr-3"],["type","text","placeholder","Last Name","name","apellido","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],[1,"fas","fa-envelope","text-gray-400","mr-3"],["type","email","placeholder","Email","name","email","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],["class","flex items-center",4,"ngIf"],[1,"fas","fa-phone","text-gray-400","mr-3"],["type","text","placeholder","Phone","name","telefono",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],[1,"fas","fa-map-marker-alt","text-gray-400","mr-3"],["type","text","placeholder","Address","name","direccion",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],[1,"flex","items-center","md:col-span-2"],["name","rolId",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex","space-x-4","mt-6"],[1,"w-full","bg-blue-600","text-white","py-3","rounded-lg","hover:bg-blue-700","transition","duration-300",3,"click"],["class","w-full bg-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-400 transition duration-300",3,"click",4,"ngIf"],[1,"bg-white","rounded-lg","shadow-lg","p-6"],[1,"overflow-x-auto"],[1,"min-w-full","bg-white","border","border-gray-200","rounded-lg"],[1,"bg-gray-100","text-gray-600","text-sm","uppercase","tracking-wider"],[1,"py-4","px-6","text-left","font-medium","border-b","border-gray-300"],["class","hover:bg-gray-50 text-gray-800",4,"ngFor","ngForOf"],[1,"fas","fa-lock","text-gray-400","mr-3"],["type","password","placeholder","Password","name","password",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","input","ngModel","required"],[3,"value"],[1,"w-full","bg-gray-300","text-gray-700","py-3","rounded-lg","hover:bg-gray-400","transition","duration-300",3,"click"],[1,"hover:bg-gray-50","text-gray-800"],[1,"py-4","px-6","border-b","border-gray-200"],[1,"py-4","px-6","border-b","border-gray-200","flex","justify-center","space-x-4"],[1,"flex","items-center","bg-blue-100","text-blue-600","px-4","py-2","rounded-full","shadow","hover:bg-blue-200","transition","duration-300","space-x-2",3,"click"],[1,"fas","fa-edit"],[1,"flex","items-center","bg-red-100","text-red-600","px-4","py-2","rounded-full","shadow","hover:bg-red-200","transition","duration-300","space-x-2",3,"click"],[1,"fas","fa-trash-alt"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),u(3,"i",3),r(4,"span"),a(5,"User Management"),o()()(),r(6,"div",4)(7,"h2",5),a(8),o(),r(9,"div",6)(10,"div",7),u(11,"i",8),r(12,"input",9),y("ngModelChange",function(l){return _(n.selectedUser.nombre,l)||(n.selectedUser.nombre=l),l}),o()(),r(13,"div",7),u(14,"i",10),r(15,"input",11),y("ngModelChange",function(l){return _(n.selectedUser.apellido,l)||(n.selectedUser.apellido=l),l}),o()(),r(16,"div",7),u(17,"i",12),r(18,"input",13),y("ngModelChange",function(l){return _(n.selectedUser.email,l)||(n.selectedUser.email=l),l}),o()(),h(19,lr,3,2,"div",14),r(20,"div",7),u(21,"i",15),r(22,"input",16),y("ngModelChange",function(l){return _(n.selectedUser.telefono,l)||(n.selectedUser.telefono=l),l}),o()(),r(23,"div",7),u(24,"i",17),r(25,"input",18),y("ngModelChange",function(l){return _(n.selectedUser.direccion,l)||(n.selectedUser.direccion=l),l}),o()(),r(26,"div",19),u(27,"i",10),r(28,"select",20),y("ngModelChange",function(l){return _(n.selectedUser.rolId,l)||(n.selectedUser.rolId=l),l}),r(29,"option",21),a(30,"Select a Role"),o(),h(31,dr,2,2,"option",22),o()()(),r(32,"div",23)(33,"button",24),p("click",function(){return n.editingUser?n.updateUser():n.createUser()}),a(34),o(),h(35,cr,2,0,"button",25),o()(),r(36,"div",26)(37,"h2",5),a(38,"User List"),o(),r(39,"div",27)(40,"table",28)(41,"thead")(42,"tr",29)(43,"th",30),a(44,"Name"),o(),r(45,"th",30),a(46,"Email"),o(),r(47,"th",30),a(48,"Phone"),o(),r(49,"th",30),a(50,"Role"),o(),r(51,"th",30),a(52,"Actions"),o()()(),r(53,"tbody"),h(54,mr,18,5,"tr",31),o()()()()()),e&2&&(d(8),C(n.editingUser?"Edit User":"Add New User"),d(4),v("ngModel",n.selectedUser.nombre),d(3),v("ngModel",n.selectedUser.apellido),d(3),v("ngModel",n.selectedUser.email),d(),c("ngIf",!n.editingUser||n.passwordChanged),d(3),v("ngModel",n.selectedUser.telefono),d(3),v("ngModel",n.selectedUser.direccion),d(3),v("ngModel",n.selectedUser.rolId),d(3),c("ngForOf",n.roles),d(3),S(" ",n.editingUser?"Update User":"Add User"," "),d(),c("ngIf",n.editingUser),d(19),c("ngForOf",n.users))},dependencies:[P,A,T,F,B,G,U,j,O,$,k]})};function pr(i,t){if(i&1&&(r(0,"div",15),a(1),o()),i&2){let e=m();d(),C(e.errorMessage)}}function ur(i,t){if(i&1&&(r(0,"div",16),a(1),o()),i&2){let e=m();d(),C(e.successMessage)}}var pt=class i{constructor(t){this.userService=t}currentPassword="";newPassword="";confirmPassword="";errorMessage="";successMessage="";changePassword(){if(this.newPassword!==this.confirmPassword){this.errorMessage="The new passwords do not match.";return}this.userService.changePassword(this.currentPassword,this.newPassword).subscribe(()=>{this.successMessage="Password changed successfully.",this.errorMessage=""},t=>{this.errorMessage="Failed to change password. "+t.message,this.successMessage=""})}static \u0275fac=function(e){return new(e||i)(b(K))};static \u0275cmp=E({type:i,selectors:[["app-change-password"]],standalone:!0,features:[I],decls:21,vars:5,consts:[[1,"bg-gray-50","min-h-screen","flex","items-center","justify-center","p-8"],[1,"w-full","max-w-md","bg-white","rounded-lg","shadow-lg","p-6"],[1,"text-2xl","font-semibold","text-gray-700","mb-6"],[3,"ngSubmit"],[1,"mb-4"],["for","currentPassword",1,"block","text-gray-600","mb-2"],["type","password","name","currentPassword","id","currentPassword","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],["for","newPassword",1,"block","text-gray-600","mb-2"],["type","password","name","newPassword","id","newPassword","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],[1,"mb-6"],["for","confirmPassword",1,"block","text-gray-600","mb-2"],["type","password","name","confirmPassword","id","confirmPassword","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","bg-blue-600","text-white","py-3","rounded-lg","hover:bg-blue-700","transition","duration-300"],["class","mt-4 text-red-600",4,"ngIf"],["class","mt-4 text-green-600",4,"ngIf"],[1,"mt-4","text-red-600"],[1,"mt-4","text-green-600"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h2",2),a(3,"Change Password"),o(),r(4,"form",3),p("ngSubmit",function(){return n.changePassword()}),r(5,"div",4)(6,"label",5),a(7,"Current Password"),o(),r(8,"input",6),y("ngModelChange",function(l){return _(n.currentPassword,l)||(n.currentPassword=l),l}),o()(),r(9,"div",4)(10,"label",7),a(11,"New Password"),o(),r(12,"input",8),y("ngModelChange",function(l){return _(n.newPassword,l)||(n.newPassword=l),l}),o()(),r(13,"div",9)(14,"label",10),a(15,"Confirm New Password"),o(),r(16,"input",11),y("ngModelChange",function(l){return _(n.confirmPassword,l)||(n.confirmPassword=l),l}),o()(),r(17,"button",12),a(18," Change Password "),o()(),h(19,pr,2,1,"div",13)(20,ur,2,1,"div",14),o()()),e&2&&(d(8),v("ngModel",n.currentPassword),d(4),v("ngModel",n.newPassword),d(4),v("ngModel",n.confirmPassword),d(3),c("ngIf",n.errorMessage),d(),c("ngIf",n.successMessage))},dependencies:[P,T,F,ne,U,O,ie,$,k,Q]})};var ut=class i{constructor(t,e){this.authService=t;this.router=e}email="";password="";onSubmit(){this.authService.login(this.email,this.password).subscribe(t=>{this.authService.setToken(t.token);let e=this.authService.getUserFromToken();console.log("Informaci\xF3n del usuario desde el token:",e),this.router.navigate(["/admin"])},t=>{alert("Credenciales inv\xE1lidas. Int\xE9ntalo de nuevo.")})}static \u0275fac=function(e){return new(e||i)(b(ce),b(Ke))};static \u0275cmp=E({type:i,selectors:[["app-login"]],standalone:!0,features:[I],decls:36,vars:2,consts:[[1,"flex","h-screen"],[1,"left-section","w-2/3","relative","overflow-hidden"],["src","assets/hospital.jpeg","alt","Hospital",1,"hospital-image","object-cover","h-full","w-full"],[1,"right-section","w-1/2","flex","flex-col","justify-center","px-16","bg-gray-50"],[1,"text-5xl","font-extrabold","text-black-500","mb-4","text-center","tracking-wide"],[1,"text-gray-600","mb-10","text-lg","text-center","tracking-wide"],["routerLink","/register",1,"text-blue-500","font-semibold","hover:text-blue-700","underline"],[1,"w-full","max-w-lg","mx-auto","space-y-8",3,"submit"],["for","email",1,"block","text-gray-700","font-semibold","mb-2","text-lg"],["type","email","id","email","name","email","placeholder","Ingrese su email","required","",1,"input-field","w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],["for","password",1,"block","text-gray-700","font-semibold","mb-2","text-lg"],["type","password","id","password","name","password","placeholder","Ingrese su contrase\xF1a","required","",1,"input-field","w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],["type","submit",1,"login-button","w-full","bg-blue-600","text-white","py-3","rounded-lg","hover:bg-blue-700","transition","duration-300"],[1,"flex","items-center","justify-between","mt-4"],[1,"inline-flex","items-center"],["type","checkbox",1,"form-checkbox","h-5","w-5","text-blue-600"],[1,"ml-2","text-gray-700"],["routerLink","/forgot-password",1,"text-blue-500","font-semibold","hover:text-blue-700","underline"],[1,"mt-10","text-center"],["routerLink","/guest-access",1,"text-blue-500","font-semibold","hover:text-blue-700","underline"],[1,"mt-16","text-center","text-gray-600","text-sm"],["routerLink","/contact",1,"text-blue-500","font-semibold","hover:text-blue-700","underline"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1),u(2,"img",2),o(),r(3,"div",3)(4,"h2",4),a(5,"Bienvenido de nuevo"),o(),r(6,"p",5),a(7," \xBFNuevo en SSVS? "),r(8,"a",6),a(9,"Reg\xEDstrate aqu\xED"),o()(),r(10,"form",7),p("submit",function(){return n.onSubmit()}),r(11,"div")(12,"label",8),a(13,"Email"),o(),r(14,"input",9),y("ngModelChange",function(l){return _(n.email,l)||(n.email=l),l}),o()(),r(15,"div")(16,"label",10),a(17,"Contrase\xF1a"),o(),r(18,"input",11),y("ngModelChange",function(l){return _(n.password,l)||(n.password=l),l}),o()(),r(19,"button",12),a(20," Iniciar sesi\xF3n "),o(),r(21,"div",13)(22,"label",14),u(23,"input",15),r(24,"span",16),a(25,"Recu\xE9rdame"),o()(),r(26,"a",17),a(27,"\xBFOlvidaste tu contrase\xF1a?"),o()(),r(28,"div",18)(29,"a",19),a(30,"Accede como invitado"),o()()(),r(31,"div",20)(32,"p"),a(33,"\xBFNecesitas ayuda? "),r(34,"a",21),a(35,"Cont\xE1ctanos"),o()()()()()),e&2&&(d(14),v("ngModel",n.email),d(4),v("ngModel",n.password))},dependencies:[P,F,ne,U,O,ie,$,k,Q]})};var xe=class i{constructor(t){this.http=t}apiUrl="https://ssvsbackend-production.up.railway.app/api/pacientes";getPacientes(){return this.http.get(this.apiUrl)}getPacienteById(t){return this.http.get(`${this.apiUrl}/${t}`)}createPaciente(t){return this.http.post(this.apiUrl,t)}updatePaciente(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deletePaciente(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};function hr(i,t){if(i&1&&(r(0,"option",30),a(1),o()),i&2){let e=t.$implicit;c("value",e.id),d(),N(" ",e.nombre," ",e.apellido," ")}}function gr(i,t){if(i&1){let e=x();r(0,"button",31),p("click",function(){g(e);let s=m();return f(s.cancelEdit())}),a(1," Cancel "),o()}}function fr(i,t){if(i&1){let e=x();r(0,"tr",32)(1,"td",33),a(2),o(),r(3,"td",33),a(4),o(),r(5,"td",33),a(6),o(),r(7,"td",33),a(8),o(),r(9,"td",34)(10,"button",35),p("click",function(){let s=g(e).$implicit,l=m();return f(l.editPaciente(s))}),u(11,"i",36),r(12,"span"),a(13,"Edit"),o()(),r(14,"button",37),p("click",function(){let s=g(e).$implicit,l=m();return f(l.deletePaciente(s.id))}),u(15,"i",38),r(16,"span"),a(17,"Delete"),o()()()()}if(i&2){let e=t.$implicit,n=m();d(2),C(n.getUsuarioNombre(e.usuarioId)),d(2),C(e.fechaNacimiento),d(2),C(e.genero),d(2),C(e.tipoSangre)}}var ht=class i{constructor(t,e){this.pacienteService=t;this.usuarioService=e}pacientes=[];usuariosConRolPaciente=[];selectedPaciente={usuarioId:null,fechaNacimiento:"",genero:"",tipoSangre:""};editingPaciente=!1;ngOnInit(){this.fetchPacientes(),this.fetchUsuariosConRolPaciente()}fetchPacientes(){this.pacienteService.getPacientes().subscribe(t=>{this.pacientes=t})}fetchUsuariosConRolPaciente(){this.usuarioService.getUsuariosConRolPaciente().subscribe(t=>{this.usuariosConRolPaciente=t})}createPaciente(){this.selectedPaciente&&this.pacienteService.createPaciente(this.selectedPaciente).subscribe(()=>{this.fetchPacientes(),this.resetSelectedPaciente()})}editPaciente(t){this.selectedPaciente=R({},t),this.editingPaciente=!0}updatePaciente(){this.selectedPaciente&&this.selectedPaciente.id&&this.pacienteService.updatePaciente(this.selectedPaciente.id,this.selectedPaciente).subscribe(()=>{this.fetchPacientes(),this.cancelEdit()})}deletePaciente(t){this.pacienteService.deletePaciente(t).subscribe(()=>{this.fetchPacientes()})}cancelEdit(){this.resetSelectedPaciente(),this.editingPaciente=!1}resetSelectedPaciente(){this.selectedPaciente={usuarioId:null,fechaNacimiento:"",genero:"",tipoSangre:""}}getUsuarioNombre(t){let e=this.usuariosConRolPaciente.find(n=>n.id===t);return e?`${e.nombre} ${e.apellido}`:"N/A"}static \u0275fac=function(e){return new(e||i)(b(xe),b(K))};static \u0275cmp=E({type:i,selectors:[["app-pacientes"]],standalone:!0,features:[I],decls:56,vars:9,consts:[[1,"bg-gray-50","min-h-screen","p-8"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-4xl","font-bold","text-gray-800","flex","items-center","space-x-3"],[1,"fas","fa-user-injured","text-blue-700"],[1,"mb-8","bg-white","p-6","rounded-lg","shadow-lg"],[1,"text-xl","font-semibold","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"flex","items-center"],["for","usuarioId",1,"text-gray-700","font-semibold","mr-4"],["name","usuarioId","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","fechaNacimiento",1,"text-gray-700","font-semibold","mr-4"],["type","date","name","fechaNacimiento","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],["for","genero",1,"text-gray-700","font-semibold","mr-4"],["name","genero","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],["value","M"],["value","F"],["for","tipoSangre",1,"text-gray-700","font-semibold","mr-4"],["type","text","placeholder","Blood Type","name","tipoSangre",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],[1,"flex","space-x-4","mt-6"],[1,"w-full","bg-blue-600","text-white","py-3","rounded-lg","hover:bg-blue-700","transition","duration-300",3,"click"],["class","w-full bg-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-400 transition duration-300",3,"click",4,"ngIf"],[1,"bg-white","rounded-lg","shadow-lg","p-6"],[1,"overflow-x-auto"],[1,"min-w-full","bg-white","border","border-gray-200","rounded-lg"],[1,"bg-gray-100","text-gray-600","text-sm","uppercase","tracking-wider"],[1,"py-4","px-6","text-left","font-medium","border-b","border-gray-300"],[1,"py-4","px-6","text-center","font-medium","border-b","border-gray-300"],["class","hover:bg-gray-50 text-gray-800",4,"ngFor","ngForOf"],[3,"value"],[1,"w-full","bg-gray-300","text-gray-700","py-3","rounded-lg","hover:bg-gray-400","transition","duration-300",3,"click"],[1,"hover:bg-gray-50","text-gray-800"],[1,"py-4","px-6","border-b","border-gray-200"],[1,"py-4","px-6","border-b","border-gray-200","flex","justify-center","space-x-4"],[1,"flex","items-center","bg-blue-100","text-blue-600","px-4","py-2","rounded-full","shadow","hover:bg-blue-200","transition","duration-300","space-x-2",3,"click"],[1,"fas","fa-edit"],[1,"flex","items-center","bg-red-100","text-red-600","px-4","py-2","rounded-full","shadow","hover:bg-red-200","transition","duration-300","space-x-2",3,"click"],[1,"fas","fa-trash-alt"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),u(3,"i",3),r(4,"span"),a(5,"Patient Management"),o()()(),r(6,"div",4)(7,"h2",5),a(8),o(),r(9,"div",6)(10,"div",7)(11,"label",8),a(12,"User"),o(),r(13,"select",9),y("ngModelChange",function(l){return _(n.selectedPaciente.usuarioId,l)||(n.selectedPaciente.usuarioId=l),l}),r(14,"option",10),a(15,"Select a User"),o(),h(16,hr,2,3,"option",11),o()(),r(17,"div",7)(18,"label",12),a(19,"Birth Date"),o(),r(20,"input",13),y("ngModelChange",function(l){return _(n.selectedPaciente.fechaNacimiento,l)||(n.selectedPaciente.fechaNacimiento=l),l}),o()(),r(21,"div",7)(22,"label",14),a(23,"Gender"),o(),r(24,"select",15),y("ngModelChange",function(l){return _(n.selectedPaciente.genero,l)||(n.selectedPaciente.genero=l),l}),r(25,"option",16),a(26,"Male"),o(),r(27,"option",17),a(28,"Female"),o()()(),r(29,"div",7)(30,"label",18),a(31,"Blood Type"),o(),r(32,"input",19),y("ngModelChange",function(l){return _(n.selectedPaciente.tipoSangre,l)||(n.selectedPaciente.tipoSangre=l),l}),o()()(),r(33,"div",20)(34,"button",21),p("click",function(){return n.editingPaciente?n.updatePaciente():n.createPaciente()}),a(35),o(),h(36,gr,2,0,"button",22),o()(),r(37,"div",23)(38,"h2",5),a(39,"Patients List"),o(),r(40,"div",24)(41,"table",25)(42,"thead")(43,"tr",26)(44,"th",27),a(45,"User"),o(),r(46,"th",27),a(47,"Birth Date"),o(),r(48,"th",27),a(49,"Gender"),o(),r(50,"th",27),a(51,"Blood Type"),o(),r(52,"th",28),a(53,"Actions"),o()()(),r(54,"tbody"),h(55,fr,18,4,"tr",29),o()()()()()),e&2&&(d(8),C(n.editingPaciente?"Edit Patient":"Add New Patient"),d(5),v("ngModel",n.selectedPaciente.usuarioId),d(3),c("ngForOf",n.usuariosConRolPaciente),d(4),v("ngModel",n.selectedPaciente.fechaNacimiento),d(4),v("ngModel",n.selectedPaciente.genero),d(8),v("ngModel",n.selectedPaciente.tipoSangre),d(3),S(" ",n.editingPaciente?"Update Patient":"Add Patient"," "),d(),c("ngIf",n.editingPaciente),d(19),c("ngForOf",n.pacientes))},dependencies:[P,A,T,F,B,G,U,j,O,$,k]})};var Se=class i{constructor(t){this.http=t}apiUrl="https://ssvsbackend-production.up.railway.app/api/medicos";getMedicos(){return this.http.get(this.apiUrl)}getMedicoById(t){return this.http.get(`${this.apiUrl}/${t}`)}createMedico(t){return this.http.post(this.apiUrl,t)}updateMedico(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deleteMedico(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};function br(i,t){if(i&1&&(r(0,"option",27),a(1),o()),i&2){let e=t.$implicit;c("value",e.id),d(),N(" ",e.nombre," ",e.apellido," ")}}function vr(i,t){if(i&1){let e=x();r(0,"button",28),p("click",function(){g(e);let s=m();return f(s.cancelEdit())}),a(1," Cancel "),o()}}function _r(i,t){if(i&1){let e=x();r(0,"tr",29)(1,"td",30),a(2),o(),r(3,"td",30),a(4),o(),r(5,"td",30),a(6),o(),r(7,"td",31)(8,"button",32),p("click",function(){let s=g(e).$implicit,l=m();return f(l.editMedico(s))}),u(9,"i",33),r(10,"span"),a(11,"Edit"),o()(),r(12,"button",34),p("click",function(){let s=g(e).$implicit,l=m();return f(l.deleteMedico(s.id))}),u(13,"i",35),r(14,"span"),a(15,"Delete"),o()()()()}if(i&2){let e=t.$implicit,n=m();d(2),S(" ",n.getUsuarioNombre(e.usuarioId)," "),d(2),C(e.fechaNacimiento),d(2),C(e.genero)}}var gt=class i{constructor(t,e){this.medicoService=t;this.userService=e}medicos=[];usuariosConRolMedico=[];selectedMedico={usuarioId:null,genero:"",fechaNacimiento:""};editingMedico=!1;ngOnInit(){this.fetchMedicos(),this.fetchUsuariosConRolMedico()}fetchMedicos(){this.medicoService.getMedicos().subscribe(t=>{this.medicos=t})}fetchUsuariosConRolMedico(){this.userService.getUsuariosConRolMedico().subscribe(t=>{this.usuariosConRolMedico=t})}createMedico(){this.selectedMedico.usuarioId&&this.selectedMedico.genero&&this.selectedMedico.fechaNacimiento&&this.medicoService.createMedico(this.selectedMedico).subscribe(()=>{this.fetchMedicos(),this.resetSelectedMedico()})}editMedico(t){this.selectedMedico=R({},t),this.editingMedico=!0}updateMedico(){this.selectedMedico.id&&this.medicoService.updateMedico(this.selectedMedico.id,this.selectedMedico).subscribe(()=>{this.fetchMedicos(),this.cancelEdit()})}deleteMedico(t){this.medicoService.deleteMedico(t).subscribe(()=>{this.fetchMedicos()})}cancelEdit(){this.resetSelectedMedico(),this.editingMedico=!1}resetSelectedMedico(){this.selectedMedico={usuarioId:null,genero:"",fechaNacimiento:""}}getUsuarioNombre(t){let e=this.usuariosConRolMedico.find(n=>n.id===t);return e?`${e.nombre} ${e.apellido}`:"N/A"}static \u0275fac=function(e){return new(e||i)(b(Se),b(K))};static \u0275cmp=E({type:i,selectors:[["app-medicos"]],standalone:!0,features:[I],decls:50,vars:8,consts:[[1,"bg-gray-50","min-h-screen","p-8"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-4xl","font-bold","text-gray-800","flex","items-center","space-x-3"],[1,"fas","fa-user-md","text-blue-700"],[1,"mb-8","bg-white","p-6","rounded-lg","shadow-lg"],[1,"text-xl","font-semibold","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"flex","items-center"],["for","usuarioId",1,"text-gray-700","font-semibold","mr-4"],["name","usuarioId","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","fechaNacimiento",1,"text-gray-700","font-semibold","mr-4"],["type","date","name","fechaNacimiento","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],["for","genero",1,"text-gray-700","font-semibold","mr-4"],["name","genero","required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],["value","M"],["value","F"],[1,"flex","space-x-4","mt-6"],[1,"w-full","bg-blue-600","text-white","py-3","rounded-lg","hover:bg-blue-700","transition","duration-300",3,"click"],["class","w-full bg-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-400 transition duration-300",3,"click",4,"ngIf"],[1,"bg-white","rounded-lg","shadow-lg","p-6"],[1,"overflow-x-auto"],[1,"min-w-full","bg-white","border","border-gray-200","rounded-lg"],[1,"bg-gray-100","text-gray-600","text-sm","uppercase","tracking-wider"],[1,"py-4","px-6","text-left","font-medium","border-b","border-gray-300"],["class","hover:bg-gray-50 text-gray-800",4,"ngFor","ngForOf"],[3,"value"],[1,"w-full","bg-gray-300","text-gray-700","py-3","rounded-lg","hover:bg-gray-400","transition","duration-300",3,"click"],[1,"hover:bg-gray-50","text-gray-800"],[1,"py-4","px-6","border-b","border-gray-200"],[1,"py-4","px-6","border-b","border-gray-200","flex","justify-center","space-x-4"],[1,"flex","items-center","bg-blue-100","text-blue-600","px-4","py-2","rounded-full","shadow","hover:bg-blue-200","transition","duration-300","space-x-2",3,"click"],[1,"fas","fa-edit"],[1,"flex","items-center","bg-red-100","text-red-600","px-4","py-2","rounded-full","shadow","hover:bg-red-200","transition","duration-300","space-x-2",3,"click"],[1,"fas","fa-trash-alt"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),u(3,"i",3),r(4,"span"),a(5,"Medico Management"),o()()(),r(6,"div",4)(7,"h2",5),a(8),o(),r(9,"div",6)(10,"div",7)(11,"label",8),a(12,"Usuario"),o(),r(13,"select",9),y("ngModelChange",function(l){return _(n.selectedMedico.usuarioId,l)||(n.selectedMedico.usuarioId=l),l}),r(14,"option",10),a(15,"Seleccione un Usuario"),o(),h(16,br,2,3,"option",11),o()(),r(17,"div",7)(18,"label",12),a(19,"Fecha de Nacimiento"),o(),r(20,"input",13),y("ngModelChange",function(l){return _(n.selectedMedico.fechaNacimiento,l)||(n.selectedMedico.fechaNacimiento=l),l}),o()(),r(21,"div",7)(22,"label",14),a(23,"G\xE9nero"),o(),r(24,"select",15),y("ngModelChange",function(l){return _(n.selectedMedico.genero,l)||(n.selectedMedico.genero=l),l}),r(25,"option",16),a(26,"Masculino"),o(),r(27,"option",17),a(28,"Femenino"),o()()()(),r(29,"div",18)(30,"button",19),p("click",function(){return n.editingMedico?n.updateMedico():n.createMedico()}),a(31),o(),h(32,vr,2,0,"button",20),o()(),r(33,"div",21)(34,"h2",5),a(35,"Medicos List"),o(),r(36,"div",22)(37,"table",23)(38,"thead")(39,"tr",24)(40,"th",25),a(41,"Nombre"),o(),r(42,"th",25),a(43,"Fecha de Nacimiento"),o(),r(44,"th",25),a(45,"G\xE9nero"),o(),r(46,"th",25),a(47,"Actions"),o()()(),r(48,"tbody"),h(49,_r,16,3,"tr",26),o()()()()()),e&2&&(d(8),S(" ",n.editingMedico?"Edit Medico":"Add New Medico"," "),d(5),v("ngModel",n.selectedMedico.usuarioId),d(3),c("ngForOf",n.usuariosConRolMedico),d(4),v("ngModel",n.selectedMedico.fechaNacimiento),d(4),v("ngModel",n.selectedMedico.genero),d(7),S(" ",n.editingMedico?"Update Medico":"Add Medico"," "),d(),c("ngIf",n.editingMedico),d(17),c("ngForOf",n.medicos))},dependencies:[P,A,T,F,B,G,U,j,O,$,k]})};var Me=class i{constructor(t){this.http=t}apiUrl="https://ssvsbackend-production.up.railway.app/api/especialidades";getEspecialidades(){return this.http.get(this.apiUrl)}getEspecialidadById(t){return this.http.get(`${this.apiUrl}/${t}`)}createEspecialidad(t){return this.http.post(this.apiUrl,t)}updateEspecialidad(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deleteEspecialidad(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};function yr(i,t){if(i&1){let e=x();r(0,"button",19),p("click",function(){g(e);let s=m();return f(s.cancelEdit())}),a(1," Cancel "),o()}}function Cr(i,t){if(i&1){let e=x();r(0,"tr",20)(1,"td",21),a(2),o(),r(3,"td",21),a(4),o(),r(5,"td",22)(6,"button",23),p("click",function(){let s=g(e).$implicit,l=m();return f(l.editEspecialidad(s))}),u(7,"i",24),r(8,"span"),a(9,"Edit"),o()(),r(10,"button",25),p("click",function(){let s=g(e).$implicit,l=m();return f(l.deleteEspecialidad(s.id))}),u(11,"i",26),r(12,"span"),a(13,"Delete"),o()()()()}if(i&2){let e=t.$implicit;d(2),C(e.nombre),d(2),C(e.descripcion)}}var ft=class i{constructor(t){this.especialidadService=t}especialidades=[];selectedEspecialidad={nombre:"",descripcion:""};editingEspecialidad=!1;ngOnInit(){this.fetchEspecialidades()}fetchEspecialidades(){this.especialidadService.getEspecialidades().subscribe(t=>{this.especialidades=t})}createEspecialidad(){this.selectedEspecialidad&&this.especialidadService.createEspecialidad(this.selectedEspecialidad).subscribe(()=>{this.fetchEspecialidades(),this.resetSelectedEspecialidad()})}editEspecialidad(t){this.selectedEspecialidad=R({},t),this.editingEspecialidad=!0}updateEspecialidad(){this.selectedEspecialidad&&this.selectedEspecialidad.id&&this.especialidadService.updateEspecialidad(this.selectedEspecialidad.id,this.selectedEspecialidad).subscribe(()=>{this.fetchEspecialidades(),this.cancelEdit()})}deleteEspecialidad(t){this.especialidadService.deleteEspecialidad(t).subscribe(()=>{this.fetchEspecialidades()})}cancelEdit(){this.resetSelectedEspecialidad(),this.editingEspecialidad=!1}resetSelectedEspecialidad(){this.selectedEspecialidad={nombre:"",descripcion:""}}static \u0275fac=function(e){return new(e||i)(b(Me))};static \u0275cmp=E({type:i,selectors:[["app-especialidades"]],standalone:!0,features:[I],decls:32,vars:6,consts:[[1,"bg-gray-50","min-h-screen","p-8"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-4xl","font-bold","text-gray-800","flex","items-center","space-x-3"],[1,"fas","fa-stethoscope","text-blue-700"],[1,"mb-8","bg-white","p-6","rounded-lg","shadow-lg"],[1,"text-xl","font-semibold","text-gray-700","mb-4"],[1,"flex","items-center","mb-4"],["type","text","placeholder","Nombre de la Especialidad",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],["placeholder","Descripci\xF3n",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],[1,"flex","space-x-4","mt-6"],[1,"w-full","bg-blue-600","text-white","py-3","rounded-lg","hover:bg-blue-700","transition","duration-300",3,"click"],["class","w-full bg-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-400 transition duration-300",3,"click",4,"ngIf"],[1,"bg-white","rounded-lg","shadow-lg","p-6"],[1,"overflow-x-auto"],[1,"min-w-full","bg-white","border","border-gray-200","rounded-lg"],[1,"bg-gray-100","text-gray-600","text-sm","uppercase","tracking-wider"],[1,"py-4","px-6","text-left","font-medium","border-b","border-gray-300"],[1,"py-4","px-6","text-center","font-medium","border-b","border-gray-300"],["class","hover:bg-gray-50 text-gray-800",4,"ngFor","ngForOf"],[1,"w-full","bg-gray-300","text-gray-700","py-3","rounded-lg","hover:bg-gray-400","transition","duration-300",3,"click"],[1,"hover:bg-gray-50","text-gray-800"],[1,"py-4","px-6","border-b","border-gray-200"],[1,"py-4","px-6","border-b","border-gray-200","flex","justify-center","space-x-4"],[1,"flex","items-center","bg-blue-100","text-blue-600","px-4","py-2","rounded-full","shadow","hover:bg-blue-200","transition","duration-300","space-x-2",3,"click"],[1,"fas","fa-edit"],[1,"flex","items-center","bg-red-100","text-red-600","px-4","py-2","rounded-full","shadow","hover:bg-red-200","transition","duration-300","space-x-2",3,"click"],[1,"fas","fa-trash-alt"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),u(3,"i",3),r(4,"span"),a(5,"Especialidad Management"),o()()(),r(6,"div",4)(7,"h2",5),a(8),o(),r(9,"div",6)(10,"input",7),y("ngModelChange",function(l){return _(n.selectedEspecialidad.nombre,l)||(n.selectedEspecialidad.nombre=l),l}),o()(),r(11,"div",6)(12,"textarea",8),y("ngModelChange",function(l){return _(n.selectedEspecialidad.descripcion,l)||(n.selectedEspecialidad.descripcion=l),l}),o()(),r(13,"div",9)(14,"button",10),p("click",function(){return n.editingEspecialidad?n.updateEspecialidad():n.createEspecialidad()}),a(15),o(),h(16,yr,2,0,"button",11),o()(),r(17,"div",12)(18,"h2",5),a(19,"Especialidades List"),o(),r(20,"div",13)(21,"table",14)(22,"thead")(23,"tr",15)(24,"th",16),a(25,"Nombre"),o(),r(26,"th",16),a(27,"Descripci\xF3n"),o(),r(28,"th",17),a(29,"Actions"),o()()(),r(30,"tbody"),h(31,Cr,14,2,"tr",18),o()()()()()),e&2&&(d(8),S(" ",n.editingEspecialidad?"Edit Especialidad":"Add New Especialidad"," "),d(2),v("ngModel",n.selectedEspecialidad.nombre),d(2),v("ngModel",n.selectedEspecialidad.descripcion),d(3),S(" ",n.editingEspecialidad?"Update Especialidad":"Add Especialidad"," "),d(),c("ngIf",n.editingEspecialidad),d(15),c("ngForOf",n.especialidades))},dependencies:[P,A,T,F,U,O,k]})};var we=class i{constructor(t){this.http=t}apiUrl="https://ssvsbackend-production.up.railway.app/api/medico-especialidad";getAllWithDetails(){return this.http.get(`${this.apiUrl}/details`)}getEspecialidadesByMedico(t){return this.http.get(`${this.apiUrl}/${t}/especialidades`)}addEspecialidadToMedico(t,e){return this.http.post(`${this.apiUrl}/${t}/especialidades/${e}`,{})}removeEspecialidadFromMedico(t,e){return this.http.delete(`${this.apiUrl}/${t}/especialidades/${e}`)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};function xr(i,t){if(i&1&&(r(0,"option",17),a(1),o()),i&2){let e=t.$implicit;c("value",e.medicoId),d(),N(" ",e.nombre," ",e.apellido," ")}}function Sr(i,t){if(i&1&&(r(0,"option",17),a(1),o()),i&2){let e=t.$implicit;c("value",e.id),d(),S(" ",e.nombre," ")}}function Mr(i,t){if(i&1){let e=x();r(0,"tr",18)(1,"td",19),a(2),o(),r(3,"td",19)(4,"button",20),p("click",function(){let s=g(e).$implicit,l=m();return f(l.viewEspecialidades(s.medicoId))}),a(5," Ver Especialidades "),o()()()}if(i&2){let e=t.$implicit;d(2),N(" ",e.nombre," ",e.apellido," ")}}function wr(i,t){if(i&1){let e=x();r(0,"li",25)(1,"span"),a(2),o(),r(3,"button",26),p("click",function(){let s=g(e).$implicit,l=m(2);return f(l.removeEspecialidad(s.especialidadId))}),a(4," Eliminar "),o()()}if(i&2){let e=t.$implicit;d(2),C(e.especialidadNombre)}}function Er(i,t){if(i&1){let e=x();r(0,"div",21)(1,"div",22)(2,"h2",2),a(3,"Especialidades del M\xE9dico"),o(),r(4,"ul"),h(5,wr,5,1,"li",23),o(),r(6,"button",24),p("click",function(){g(e);let s=m();return f(s.closeModal())}),a(7,"Cerrar"),o()()()}if(i&2){let e=m();d(5),c("ngForOf",e.especialidadesDelMedico)}}var bt=class i{constructor(t,e,n,s){this.medicoService=t;this.userService=e;this.especialidadService=n;this.medicoEspecialidadService=s}medicos=[];especialidades=[];especialidadesDelMedico=[];selectedMedicoId=null;selectedEspecialidadId=null;showModal=!1;ngOnInit(){this.fetchMedicos(),this.fetchEspecialidades()}fetchMedicos(){this.medicoService.getMedicos().subscribe(t=>{this.userService.getUsuariosConRolMedico().subscribe(e=>{this.medicos=t.map(n=>{let s=e.find(l=>l.id===n.usuarioId);return{medicoId:n.id,nombre:s?s.nombre:"",apellido:s?s.apellido:""}})})})}fetchEspecialidades(){this.especialidadService.getEspecialidades().subscribe(t=>{console.log(this.especialidades=t),this.especialidades=t})}addEspecialidadToMedico(){this.selectedMedicoId&&this.selectedEspecialidadId&&this.medicoEspecialidadService.addEspecialidadToMedico(this.selectedMedicoId,this.selectedEspecialidadId).subscribe(()=>{this.viewEspecialidades(this.selectedMedicoId),this.selectedEspecialidadId=null})}viewEspecialidades(t){this.selectedMedicoId=t,this.medicoEspecialidadService.getEspecialidadesByMedico(t).subscribe(e=>{this.especialidadesDelMedico=e,console.log(this.especialidadesDelMedico=e),this.showModal=!0})}removeEspecialidad(t){this.selectedMedicoId&&this.medicoEspecialidadService.removeEspecialidadFromMedico(this.selectedMedicoId,t).subscribe(()=>{this.especialidadesDelMedico=this.especialidadesDelMedico.filter(e=>e.especialidadId!==t)})}closeModal(){this.showModal=!1,this.especialidadesDelMedico=[]}static \u0275fac=function(e){return new(e||i)(b(Se),b(K),b(Me),b(we))};static \u0275cmp=E({type:i,selectors:[["app-medico-especialidad"]],standalone:!0,features:[I],decls:34,vars:6,consts:[[1,"bg-gray-50","min-h-screen","p-8"],[1,"mb-8","bg-white","p-6","rounded-lg","shadow-lg"],[1,"text-xl","font-semibold","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"flex","items-center"],["for","medico",1,"text-gray-700","font-semibold","mr-4"],["required","",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","especialidad",1,"text-gray-700","font-semibold","mr-4"],[1,"mt-6","w-full","bg-blue-600","text-white","py-3","rounded-lg","hover:bg-blue-700","transition","duration-300",3,"click"],[1,"bg-white","p-6","rounded-lg","shadow-lg","mt-8"],[1,"min-w-full","bg-white","border","border-gray-200","rounded-lg"],[1,"bg-gray-100","text-gray-600","text-sm","uppercase","tracking-wider"],[1,"py-4","px-6","text-left","font-medium","border-b","border-gray-300"],["class","hover:bg-gray-50 text-gray-800",4,"ngFor","ngForOf"],["class","fixed inset-0 bg-gray-900 bg-opacity-50 flex justify-center items-center",4,"ngIf"],[3,"value"],[1,"hover:bg-gray-50","text-gray-800"],[1,"py-4","px-6","border-b","border-gray-200"],[1,"mr-2","bg-green-100","text-green-600","px-4","py-2","rounded-full","shadow","hover:bg-green-200","transition","duration-300",3,"click"],[1,"fixed","inset-0","bg-gray-900","bg-opacity-50","flex","justify-center","items-center"],[1,"bg-white","p-8","rounded-lg","shadow-lg","w-1/3"],["class","flex justify-between items-center mb-2",4,"ngFor","ngForOf"],[1,"mt-4","bg-gray-300","text-gray-700","py-2","px-4","rounded-lg","hover:bg-gray-400",3,"click"],[1,"flex","justify-between","items-center","mb-2"],[1,"bg-red-100","text-red-600","px-3","py-1","rounded-full","shadow","hover:bg-red-200","transition","duration-300",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h2",2),a(3,"Asociar Especialidad a M\xE9dico"),o(),r(4,"div",3)(5,"div",4)(6,"label",5),a(7,"M\xE9dico"),o(),r(8,"select",6),y("ngModelChange",function(l){return _(n.selectedMedicoId,l)||(n.selectedMedicoId=l),l}),r(9,"option",7),a(10,"Seleccione un M\xE9dico"),o(),h(11,xr,2,3,"option",8),o()(),r(12,"div",4)(13,"label",9),a(14,"Especialidad"),o(),r(15,"select",6),y("ngModelChange",function(l){return _(n.selectedEspecialidadId,l)||(n.selectedEspecialidadId=l),l}),r(16,"option",7),a(17,"Seleccione una Especialidad"),o(),h(18,Sr,2,2,"option",8),o()()(),r(19,"button",10),p("click",function(){return n.addEspecialidadToMedico()}),a(20," Asociar Especialidad "),o()(),r(21,"div",11)(22,"h2",2),a(23,"Lista de M\xE9dicos y Especialidades"),o(),r(24,"table",12)(25,"thead")(26,"tr",13)(27,"th",14),a(28,"Nombre del M\xE9dico"),o(),r(29,"th",14),a(30,"Acciones"),o()()(),r(31,"tbody"),h(32,Mr,6,2,"tr",15),o()()(),h(33,Er,8,1,"div",16),o()),e&2&&(d(8),v("ngModel",n.selectedMedicoId),d(3),c("ngForOf",n.medicos),d(4),v("ngModel",n.selectedEspecialidadId),d(3),c("ngForOf",n.especialidades),d(14),c("ngForOf",n.medicos),d(),c("ngIf",n.showModal))},dependencies:[P,A,T,F,B,G,j,O,$,k]})};var Ee=class i{constructor(t){this.http=t}apiUrl="https://ssvsbackend-production.up.railway.app/api/horarios";getAllHorarios(){return this.http.get(this.apiUrl)}createHorario(t){return this.http.post(this.apiUrl,t)}updateHorario(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deleteHorario(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};var vt=class i{constructor(t){this.http=t}apiUrl="https://ssvsbackend-production.up.railway.app/api/dias";getAllDias(){return this.http.get(this.apiUrl)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};var _t=class i{constructor(t){this.http=t}apiUrl="https://ssvsbackend-production.up.railway.app/api/jornadas";getAllJornadas(){return this.http.get(this.apiUrl)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};function Vr(i,t){if(i&1&&(r(0,"option",19),a(1),o()),i&2){let e=t.$implicit;c("value",e.id),d(),C(e.diaSemana)}}function Pr(i,t){if(i&1&&(r(0,"option",19),a(1),o()),i&2){let e=t.$implicit;c("value",e.id),d(),N(" ",e.horaInicio," - ",e.horaFinal," ")}}function Fr(i,t){if(i&1){let e=x();r(0,"tr",20)(1,"td",21),a(2),o(),r(3,"td",21),a(4),o(),r(5,"td",21),a(6),o(),r(7,"td",22)(8,"button",23),p("click",function(){let s=g(e).$implicit,l=m();return f(l.editHorario(s))}),a(9,"Edit"),o(),r(10,"button",24),p("click",function(){let s=g(e).$implicit,l=m();return f(l.deleteHorario(s.id))}),a(11,"Delete"),o()()()}if(i&2){let e=t.$implicit;d(2),C(e.diaSemana),d(2),C(e.horaInicio),d(2),C(e.horaFinal)}}var yt=class i{constructor(t,e,n){this.horarioService=t;this.diaService=e;this.jornadaService=n}horarios=[];dias=[];jornadas=[];newHorario={diaId:0,jornadaId:0};editingHorario=null;ngOnInit(){this.fetchHorarios(),this.fetchDias(),this.fetchJornadas()}fetchHorarios(){this.horarioService.getAllHorarios().subscribe(t=>{this.horarios=t})}fetchDias(){this.diaService.getAllDias().subscribe(t=>{this.dias=t})}fetchJornadas(){this.jornadaService.getAllJornadas().subscribe(t=>{this.jornadas=t})}createHorario(){this.newHorario.diaId&&this.newHorario.jornadaId&&this.horarioService.createHorario(this.newHorario).subscribe(()=>{this.fetchHorarios(),this.newHorario={diaId:0,jornadaId:0}})}editHorario(t){this.editingHorario=R({},t)}updateHorario(){this.editingHorario&&this.editingHorario.id&&this.horarioService.updateHorario(this.editingHorario.id,this.editingHorario).subscribe(()=>{this.fetchHorarios(),this.editingHorario=null})}cancelEdit(){this.editingHorario=null}deleteHorario(t){confirm("Are you sure you want to delete this schedule?")&&this.horarioService.deleteHorario(t).subscribe(()=>{this.fetchHorarios()})}static \u0275fac=function(e){return new(e||i)(b(Ee),b(vt),b(_t))};static \u0275cmp=E({type:i,selectors:[["app-horarios"]],standalone:!0,features:[I],decls:44,vars:5,consts:[[1,"bg-gray-50","min-h-screen","p-8"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-4xl","font-bold","text-gray-800","flex","items-center","space-x-3"],[1,"fas","fa-calendar-alt","text-blue-700"],[1,"bg-blue-600","text-white","px-5","py-3","rounded-lg","shadow-lg",3,"click"],[1,"mb-8","bg-white","p-6","rounded-lg","shadow-lg"],[1,"text-xl","font-semibold","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-gray-700","mb-2"],[1,"w-full","px-4","py-2","border","rounded-lg",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"bg-blue-600","text-white","py-3","rounded-lg","mt-4",3,"click"],[1,"bg-white","p-6","rounded-lg","shadow-lg"],[1,"min-w-full","border"],[1,"bg-gray-100","text-gray-600","uppercase","tracking-wider"],[1,"py-4","px-6","text-left"],[1,"py-4","px-6","text-center"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],[3,"value"],[1,"hover:bg-gray-50"],[1,"py-4","px-6"],[1,"py-4","px-6","flex","justify-center","space-x-2"],[1,"bg-blue-100","text-blue-600","px-4","py-2","rounded",3,"click"],[1,"bg-red-100","text-red-600","px-4","py-2","rounded",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),u(3,"i",3),r(4,"span"),a(5,"Schedule Management"),o()(),r(6,"button",4),p("click",function(){return n.createHorario()}),a(7,"New Schedule"),o()(),r(8,"div",5)(9,"h2",6),a(10,"Add a New Schedule"),o(),r(11,"div",7)(12,"div")(13,"label",8),a(14,"Day of the Week"),o(),r(15,"select",9),y("ngModelChange",function(l){return _(n.newHorario.diaId,l)||(n.newHorario.diaId=l),l}),r(16,"option",10),a(17,"Select Day"),o(),h(18,Vr,2,2,"option",11),o()(),r(19,"div")(20,"label",8),a(21,"Jornada"),o(),r(22,"select",9),y("ngModelChange",function(l){return _(n.newHorario.jornadaId,l)||(n.newHorario.jornadaId=l),l}),r(23,"option",10),a(24,"Select Jornada"),o(),h(25,Pr,2,3,"option",11),o()()(),r(26,"button",12),p("click",function(){return n.createHorario()}),a(27,"Add Schedule"),o()(),r(28,"div",13)(29,"h2",6),a(30,"Schedules List"),o(),r(31,"table",14)(32,"thead")(33,"tr",15)(34,"th",16),a(35,"Day"),o(),r(36,"th",16),a(37,"Start Time"),o(),r(38,"th",16),a(39,"End Time"),o(),r(40,"th",17),a(41,"Actions"),o()()(),r(42,"tbody"),h(43,Fr,12,3,"tr",18),o()()()()),e&2&&(d(15),v("ngModel",n.newHorario.diaId),d(3),c("ngForOf",n.dias),d(4),v("ngModel",n.newHorario.jornadaId),d(3),c("ngForOf",n.jornadas),d(18),c("ngForOf",n.horarios))},dependencies:[P,A,F,B,G,j,O,k]})};var Ct=class i{constructor(t){this.http=t}apiUrl="https://ssvsbackend-production.up.railway.app/api/documentos-laboratorio";laboratoriosUrl="https://ssvsbackend-production.up.railway.app/api/laboratorio";getAllDocumentos(){return this.http.get(this.apiUrl)}getLaboratorios(){return this.http.get(this.laboratoriosUrl)}createDocumento(t){return this.http.post(this.apiUrl,t)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};function Or(i,t){if(i&1&&(r(0,"option",7),a(1),o()),i&2){let e=t.$implicit;c("value",e.id),d(),S(" ",e.descripcion," ")}}function Rr(i,t){if(i&1){let e=x();r(0,"div",2)(1,"form",8),p("ngSubmit",function(){g(e);let s=ae(5),l=m();return f(l.createDocumento(s))}),r(2,"label",9),a(3,"Subir Archivo"),o(),r(4,"input",10,0),p("change",function(s){g(e);let l=m();return f(l.createDocumento(s))}),o(),r(6,"div",11)(7,"label"),a(8,"Fecha de Realizaci\xF3n:"),o(),u(9,"input",12),Y(10,"date"),o(),r(11,"button",13),a(12,"Crear Documento"),o()()()}if(i&2){let e=m();d(9),c("value",te(10,1,e.fechaHoy,"dd/MM/yyyy"))}}var xt=class i{constructor(t){this.documentosService=t}laboratorios=[];selectedLaboratorioId=null;fechaHoy=new Date;newDocumento={laboratorioId:0,nombreArchivo:"",tipoDocumento:"",ubicacionArchivo:"",fechaRealizacion:this.fechaHoy};ngOnInit(){this.loadLaboratorios()}loadLaboratorios(){this.documentosService.getLaboratorios().subscribe(t=>{this.laboratorios=t})}createDocumento(t){if(this.selectedLaboratorioId&&t.target.files.length>0){let e=t.target.files[0];this.newDocumento.laboratorioId=this.selectedLaboratorioId,this.newDocumento.nombreArchivo=e.name,this.newDocumento.tipoDocumento=e.type,this.newDocumento.fechaRealizacion=this.fechaHoy,this.newDocumento.ubicacionArchivo="URL_DEL_ARCHIVO_SUBIDO",this.documentosService.createDocumento(this.newDocumento).subscribe(()=>{})}}static \u0275fac=function(e){return new(e||i)(b(Ct))};static \u0275cmp=E({type:i,selectors:[["app-documentos-laboratorio"]],standalone:!0,features:[I],decls:9,vars:3,consts:[["fileInput",""],[1,"container"],[1,"form-container"],["for","laboratorioSelect"],["id","laboratorioSelect","required","",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","form-container",4,"ngIf"],[3,"value"],[3,"ngSubmit"],["for","archivoInput"],["type","file","id","archivoInput","required","",3,"change"],[1,"form-group"],["type","text","readonly","",1,"form-control",3,"value"],["type","submit",1,"btn","btn-primary"]],template:function(e,n){e&1&&(r(0,"div",1)(1,"h2"),a(2,"Crear Documento de Laboratorio"),o(),r(3,"div",2)(4,"label",3),a(5,"Seleccionar Laboratorio"),o(),r(6,"select",4),y("ngModelChange",function(l){return _(n.selectedLaboratorioId,l)||(n.selectedLaboratorioId=l),l}),h(7,Or,2,2,"option",5),o()(),h(8,Rr,13,4,"div",6),o()),e&2&&(d(6),v("ngModel",n.selectedLaboratorioId),d(),c("ngForOf",n.laboratorios),d(),c("ngIf",n.selectedLaboratorioId))},dependencies:[P,A,T,de,F,ne,B,G,j,O,ie,$,k,Q]})};var St=class i{constructor(t){this.http=t}apiUrl="https://ssvsbackend-production.up.railway.app/api/historias-clinicas/resumen";getHistoriaClinicaResumen(t){return this.http.get(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};function Nr(i,t){if(i&1&&(r(0,"div",7)(1,"h3",8),a(2),o(),r(3,"p")(4,"strong"),a(5,"Fecha:"),o(),a(6),Y(7,"date"),o(),r(8,"p")(9,"strong"),a(10,"Diagn\xF3stico:"),o(),a(11),o(),r(12,"p")(13,"strong"),a(14,"Tratamiento:"),o(),a(15),o(),r(16,"p")(17,"strong"),a(18,"Notas:"),o(),a(19),o(),r(20,"div",9)(21,"h4",10),a(22,"Medicamentos Recetados"),o(),r(23,"p"),a(24),o()(),r(25,"div",9)(26,"h4",10),a(27,"Laboratorios"),o(),r(28,"p"),a(29),o()()()),i&2){let e=t.$implicit;d(2),S("Consulta M\xE9dica (ID: ",e.consultaId,")"),d(4),S(" ",te(7,7,e.fechaConsulta,"short"),""),d(5),S(" ",e.diagnostico,""),d(4),S(" ",e.tratamiento,""),d(4),S(" ",e.notasConsulta,""),d(5),C(e.medicamentosReceta),d(5),C(e.laboratorios)}}function Tr(i,t){if(i&1&&(r(0,"div")(1,"div",4)(2,"h3",5),a(3,"Informaci\xF3n del Paciente"),o(),r(4,"p")(5,"strong"),a(6,"Nombre:"),o(),a(7),o(),r(8,"p")(9,"strong"),a(10,"ID Paciente:"),o(),a(11),o(),r(12,"p")(13,"strong"),a(14,"ID Historia Cl\xEDnica:"),o(),a(15),o(),r(16,"p")(17,"strong"),a(18,"Fecha de Creaci\xF3n:"),o(),a(19),Y(20,"date"),o()(),h(21,Nr,30,10,"div",6),o()),i&2){let e=m();d(7),N(" ",e.historiaClinica[0]==null?null:e.historiaClinica[0].nombrePaciente," ",e.historiaClinica[0]==null?null:e.historiaClinica[0].apellidoPaciente,""),d(4),S(" ",e.historiaClinica[0]==null?null:e.historiaClinica[0].pacienteId,""),d(4),S(" ",e.historiaClinica[0]==null?null:e.historiaClinica[0].historiaId,""),d(4),S(" ",te(20,6,e.historiaClinica[0]==null?null:e.historiaClinica[0].fechaCreacionHistoria,"short"),""),d(2),c("ngForOf",e.historiaClinica)}}function Ur(i,t){i&1&&(r(0,"div",11)(1,"p"),a(2,"No hay datos disponibles para este paciente."),o()())}var Mt=class i{constructor(t){this.historiaClinicaService=t}historiaClinica=[];pacienteId=1;ngOnInit(){this.loadHistoriaClinica()}loadHistoriaClinica(){this.historiaClinicaService.getHistoriaClinicaResumen(this.pacienteId).subscribe(t=>{this.historiaClinica=t},t=>{console.error("Error al cargar la historia cl\xEDnica",t)})}static \u0275fac=function(e){return new(e||i)(b(St))};static \u0275cmp=E({type:i,selectors:[["app-historia-clinica"]],standalone:!0,features:[I],decls:5,vars:2,consts:[[1,"container","mt-5"],[1,"text-2xl","font-semibold","text-gray-700"],[4,"ngIf"],["class","mt-4 text-gray-600",4,"ngIf"],[1,"my-4","p-4","bg-gray-100","rounded-lg","shadow"],[1,"text-lg","font-bold","text-gray-700"],["class","my-4 p-4 bg-white rounded-lg shadow",4,"ngFor","ngForOf"],[1,"my-4","p-4","bg-white","rounded-lg","shadow"],[1,"text-lg","font-bold","text-blue-600"],[1,"mt-3"],[1,"font-semibold","text-gray-700"],[1,"mt-4","text-gray-600"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"h2",1),a(2,"Resumen de Historia Cl\xEDnica"),o(),h(3,Tr,22,9,"div",2)(4,Ur,3,0,"div",3),o()),e&2&&(d(3),c("ngIf",n.historiaClinica.length),d(),c("ngIf",!n.historiaClinica.length))},dependencies:[P,A,T,de,F],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.text-blue-600[_ngcontent-%COMP%]{color:#2563eb}.text-gray-700[_ngcontent-%COMP%]{color:#4a5568}.font-semibold[_ngcontent-%COMP%]{font-weight:600}.bg-gray-100[_ngcontent-%COMP%]{background-color:#f7fafc}.bg-white[_ngcontent-%COMP%]{background-color:#fff}.shadow[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f}.rounded-lg[_ngcontent-%COMP%]{border-radius:.5rem}"]})};var wt=class i{constructor(t){this.http=t}apiUrl="https://ssvsbackend-production.up.railway.app/api/permisos";getPermissions(){return this.http.get(this.apiUrl)}createPermission(t){return this.http.post(this.apiUrl,t)}updatePermission(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deletePermission(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};function jr(i,t){if(i&1&&($e(0),r(1,"td",28),a(2),o(),qe()),i&2){let e=m().$implicit;d(2),C(e.nombre)}}function Lr(i,t){if(i&1){let e=x();r(0,"input",30),y("ngModelChange",function(s){g(e);let l=m(3);return _(l.editingPermission.nombre,s)||(l.editingPermission.nombre=s),f(s)}),o()}if(i&2){let e=m(3);v("ngModel",e.editingPermission.nombre)}}function Wr(i,t){if(i&1&&(r(0,"td",28),h(1,Lr,1,1,"input",29),o()),i&2){let e=m(2);d(),c("ngIf",e.editingPermission)}}function Br(i,t){if(i&1){let e=x();r(0,"button",31),p("click",function(){g(e);let s=m().$implicit,l=m();return f(l.editPermission(s))}),u(1,"i",32),r(2,"span"),a(3,"Edit"),o()()}}function Gr(i,t){if(i&1){let e=x();r(0,"button",33),p("click",function(){g(e);let s=m(2);return f(s.updatePermission())}),u(1,"i",34),r(2,"span"),a(3,"Save"),o()()}}function $r(i,t){if(i&1){let e=x();r(0,"button",35),p("click",function(){g(e);let s=m(2);return f(s.cancelEdit())}),u(1,"i",36),r(2,"span"),a(3,"Cancel"),o()()}}function qr(i,t){if(i&1){let e=x();r(0,"tr",20),h(1,jr,3,1,"ng-container",21)(2,Wr,2,1,"ng-template",null,0,ge),r(4,"td",22),h(5,Br,4,0,"button",23)(6,Gr,4,0,"button",24)(7,$r,4,0,"button",25),r(8,"button",26),p("click",function(){let s=g(e).$implicit,l=m();return f(l.deletePermission(s.id))}),u(9,"i",27),r(10,"span"),a(11,"Delete"),o()()()()}if(i&2){let e=t.$implicit,n=ae(3),s=m();d(),c("ngIf",!s.editingPermission||s.editingPermission.id!==e.id)("ngIfElse",n),d(4),c("ngIf",!s.editingPermission||s.editingPermission.id!==e.id),d(),c("ngIf",s.editingPermission&&s.editingPermission.id===e.id),d(),c("ngIf",s.editingPermission&&s.editingPermission.id===e.id)}}var Et=class i{constructor(t){this.permissionService=t}permissions=[];newPermission={nombre:""};editingPermission=null;ngOnInit(){this.fetchPermissions()}fetchPermissions(){this.permissionService.getPermissions().subscribe(t=>{this.permissions=t.sort((e,n)=>e.nombre.localeCompare(n.nombre))})}createPermission(){this.newPermission.nombre&&this.permissionService.createPermission(this.newPermission).subscribe(()=>{this.fetchPermissions(),this.newPermission={nombre:""}})}editPermission(t){this.editingPermission=R({},t)}updatePermission(){this.editingPermission&&this.editingPermission.id&&this.permissionService.updatePermission(this.editingPermission.id,this.editingPermission).subscribe(()=>{this.fetchPermissions(),this.editingPermission=null})}cancelEdit(){this.editingPermission=null}deletePermission(t){confirm("Are you sure you want to delete this permission?")&&this.permissionService.deletePermission(t).subscribe(()=>{this.fetchPermissions()})}static \u0275fac=function(e){return new(e||i)(b(wt))};static \u0275cmp=E({type:i,selectors:[["app-permissions"]],standalone:!0,features:[I],decls:31,vars:2,consts:[["editTemplate",""],[1,"bg-gray-50","min-h-screen","p-8"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-4xl","font-bold","text-gray-800","flex","items-center","space-x-3"],[1,"fas","fa-lock","text-blue-700"],[1,"flex","items-center","bg-gradient-to-r","from-blue-500","to-blue-600","text-white","px-5","py-3","rounded-lg","shadow-lg","hover:from-blue-600","hover:to-blue-700","transition","duration-300","focus:outline-none","space-x-2",3,"click"],[1,"fas","fa-plus-circle"],[1,"mb-8","bg-white","p-6","rounded-lg","shadow-lg"],[1,"text-xl","font-semibold","text-gray-700","mb-4"],[1,"flex","items-center","mb-4"],[1,"fas","fa-key","text-gray-400","mr-3"],["type","text","placeholder","Permission Name",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],[1,"w-full","bg-blue-600","text-white","py-3","rounded-lg","hover:bg-blue-700","transition","duration-300",3,"click"],[1,"bg-white","rounded-lg","shadow-lg","p-6"],[1,"overflow-x-auto"],[1,"min-w-full","bg-white","border","border-gray-200","rounded-lg"],[1,"bg-gray-100","text-gray-600","text-sm","uppercase","tracking-wider"],[1,"py-4","px-6","text-left","font-medium","border-b","border-gray-300"],[1,"py-4","px-6","text-center","font-medium","border-b","border-gray-300"],["class","hover:bg-gray-50 text-gray-800",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50","text-gray-800"],[4,"ngIf","ngIfElse"],[1,"py-4","px-6","border-b","border-gray-200","flex","justify-center","space-x-4"],["class","bg-blue-100 text-blue-600 px-4 py-2 rounded-full shadow hover:bg-blue-200 transition duration-300 flex items-center space-x-1",3,"click",4,"ngIf"],["class","bg-green-100 text-green-600 px-4 py-2 rounded-full shadow hover:bg-green-200 transition duration-300 flex items-center space-x-1",3,"click",4,"ngIf"],["class","bg-gray-100 text-gray-600 px-4 py-2 rounded-full shadow hover:bg-gray-200 transition duration-300 flex items-center space-x-1",3,"click",4,"ngIf"],[1,"bg-red-100","text-red-600","px-4","py-2","rounded-full","shadow","hover:bg-red-200","transition","duration-300","flex","items-center","space-x-1",3,"click"],[1,"fas","fa-trash-alt"],[1,"py-4","px-6","border-b","border-gray-200"],["class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400",3,"ngModel","ngModelChange",4,"ngIf"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],[1,"bg-blue-100","text-blue-600","px-4","py-2","rounded-full","shadow","hover:bg-blue-200","transition","duration-300","flex","items-center","space-x-1",3,"click"],[1,"fas","fa-edit"],[1,"bg-green-100","text-green-600","px-4","py-2","rounded-full","shadow","hover:bg-green-200","transition","duration-300","flex","items-center","space-x-1",3,"click"],[1,"fas","fa-save"],[1,"bg-gray-100","text-gray-600","px-4","py-2","rounded-full","shadow","hover:bg-gray-200","transition","duration-300","flex","items-center","space-x-1",3,"click"],[1,"fas","fa-times"]],template:function(e,n){e&1&&(r(0,"div",1)(1,"div",2)(2,"h1",3),u(3,"i",4),r(4,"span"),a(5,"Permission Management"),o()(),r(6,"button",5),p("click",function(){return n.createPermission()}),u(7,"i",6),r(8,"span"),a(9,"New Permission"),o()()(),r(10,"div",7)(11,"h2",8),a(12,"Add a New Permission"),o(),r(13,"div",9),u(14,"i",10),r(15,"input",11),y("ngModelChange",function(l){return _(n.newPermission.nombre,l)||(n.newPermission.nombre=l),l}),o()(),r(16,"button",12),p("click",function(){return n.createPermission()}),a(17," Add Permission "),o()(),r(18,"div",13)(19,"h2",8),a(20,"Permissions List"),o(),r(21,"div",14)(22,"table",15)(23,"thead")(24,"tr",16)(25,"th",17),a(26,"Permission Name"),o(),r(27,"th",18),a(28,"Actions"),o()()(),r(29,"tbody"),h(30,qr,12,5,"tr",19),o()()()()()),e&2&&(d(15),v("ngModel",n.newPermission.nombre),d(15),c("ngForOf",n.permissions))},dependencies:[P,A,T,F,U,O,k]})};var Ie=class i{constructor(t){this.http=t}apiUrl="https://ssvsbackend-production.up.railway.app/api/horario-medico-especialidad";getAll(){return this.http.get(`${this.apiUrl}`)}create(t){return this.http.post(this.apiUrl,t)}getMedicosByEspecialidad(t){return this.http.get(`${this.apiUrl}/especialidad/${t}/medicos`)}delete(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};function zr(i,t){if(i&1&&(r(0,"option",16),a(1),o()),i&2){let e=t.$implicit;c("value",e.medicoId+"-"+e.especialidadId),d(),ze(" ",e.medicoNombre," ",e.medicoApellido," - ",e.especialidadNombre," ")}}function Jr(i,t){if(i&1&&(r(0,"option",16),a(1),o()),i&2){let e=t.$implicit;c("value",e.id),d(),ze(" D\xEDa: ",e.diaSemana,", ",e.horaInicio," - ",e.horaFinal," ")}}function Zr(i,t){if(i&1){let e=x();r(0,"tr",17)(1,"td",14),a(2),o(),r(3,"td",14),a(4),o(),r(5,"td",14),a(6),o(),r(7,"td",14)(8,"button",18),p("click",function(){let s=g(e).$implicit,l=m();return f(l.removeAssignedHorario(s.horarioMedicoEspecialidadId))}),a(9," Eliminar "),o()()()}if(i&2){let e=t.$implicit;d(2),N("",e.medicoNombre," ",e.medicoApellido,""),d(2),C(e.especialidadNombre),d(2),ze("D\xEDa: ",e.diaSemana,", ",e.horaInicio," - ",e.horaFin,"")}}var It=class i{constructor(t,e,n){this.horarioService=t;this.horarioMedicoEspecialidadService=e;this.medicoEspecialidadService=n}medicosEspecialidades=[];horarios=[];assignedHorarios=[];newHorarioMedicoEspecialidad={medicoId:0,especialidadId:0,horarioId:0};ngOnInit(){this.fetchMedicosEspecialidades(),this.fetchHorarios(),this.loadAssignedHorarios()}fetchMedicosEspecialidades(){this.medicoEspecialidadService.getAllWithDetails().subscribe(t=>{this.medicosEspecialidades=t.map(e=>({id:`${e.medicoId}-${e.especialidadId}`,medicoId:e.medicoId,especialidadId:e.especialidadId,medicoNombre:e.medicoNombre,medicoApellido:e.medicoApellido,especialidadNombre:e.especialidadNombre}))})}fetchHorarios(){this.horarioService.getAllHorarios().subscribe(t=>{this.horarios=t})}createHorarioMedicoEspecialidad(){let[t,e]=this.newHorarioMedicoEspecialidad.medicoId.toString().split("-").map(Number);this.newHorarioMedicoEspecialidad.medicoId=t,this.newHorarioMedicoEspecialidad.especialidadId=e,t&&e&&this.newHorarioMedicoEspecialidad.horarioId&&this.horarioMedicoEspecialidadService.create(this.newHorarioMedicoEspecialidad).subscribe(()=>{this.loadAssignedHorarios(),this.newHorarioMedicoEspecialidad={medicoId:0,especialidadId:0,horarioId:0}})}loadAssignedHorarios(){this.horarioMedicoEspecialidadService.getAll().subscribe(t=>{this.assignedHorarios=t})}removeAssignedHorario(t){console.log("Eliminando horario con ID: ",t),this.horarioMedicoEspecialidadService.delete(t).subscribe(()=>{this.loadAssignedHorarios()})}static \u0275fac=function(e){return new(e||i)(b(Ee),b(Ie),b(we))};static \u0275cmp=E({type:i,selectors:[["app-horario-medico-especialidad"]],standalone:!0,features:[I],decls:35,vars:5,consts:[[1,"p-8","bg-gray-50","min-h-screen"],[1,"text-xl","font-semibold","text-gray-700","mb-4"],[1,"mb-6"],["for","medicoEspecialidadSelect",1,"block","text-gray-700","font-semibold","mb-2"],["id","medicoEspecialidadSelect",1,"w-full","p-3","border","rounded-lg",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","horarioSelect",1,"block","text-gray-700","font-semibold","mb-2"],["id","horarioSelect",1,"w-full","p-3","border","rounded-lg",3,"ngModelChange","ngModel"],[1,"w-full","bg-blue-600","text-white","py-3","rounded-lg","hover:bg-blue-700","transition","duration-300",3,"click"],[1,"mt-8","bg-white","p-6","rounded-lg","shadow-lg"],[1,"text-lg","font-semibold","text-gray-700","mb-4"],[1,"w-full","text-left","border","border-gray-200","rounded-lg"],[1,"bg-gray-100"],[1,"p-4","border-b"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],[3,"value"],[1,"hover:bg-gray-50"],[1,"bg-red-500","text-white","py-2","px-4","rounded","hover:bg-red-600",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"h2",1),a(2,"Asignar Horarios a M\xE9dicos con Especialidades"),o(),r(3,"div",2)(4,"label",3),a(5,"Seleccionar M\xE9dico y Especialidad"),o(),r(6,"select",4),y("ngModelChange",function(l){return _(n.newHorarioMedicoEspecialidad.medicoId,l)||(n.newHorarioMedicoEspecialidad.medicoId=l),l}),r(7,"option",5),a(8,"Seleccione un m\xE9dico con especialidad"),o(),h(9,zr,2,4,"option",6),o()(),r(10,"div",2)(11,"label",7),a(12,"Seleccionar Horario"),o(),r(13,"select",8),y("ngModelChange",function(l){return _(n.newHorarioMedicoEspecialidad.horarioId,l)||(n.newHorarioMedicoEspecialidad.horarioId=l),l}),r(14,"option",5),a(15,"Seleccione un horario"),o(),h(16,Jr,2,4,"option",6),o()(),r(17,"button",9),p("click",function(){return n.createHorarioMedicoEspecialidad()}),a(18," Asignar Horario "),o(),r(19,"div",10)(20,"h2",11),a(21,"Horarios Asignados"),o(),r(22,"table",12)(23,"thead",13)(24,"tr")(25,"th",14),a(26,"M\xE9dico"),o(),r(27,"th",14),a(28,"Especialidad"),o(),r(29,"th",14),a(30,"Horario"),o(),r(31,"th",14),a(32,"Acciones"),o()()(),r(33,"tbody"),h(34,Zr,10,6,"tr",15),o()()()()),e&2&&(d(6),v("ngModel",n.newHorarioMedicoEspecialidad.medicoId),d(3),c("ngForOf",n.medicosEspecialidades),d(4),v("ngModel",n.newHorarioMedicoEspecialidad.horarioId),d(3),c("ngForOf",n.horarios),d(18),c("ngForOf",n.assignedHorarios))},dependencies:[P,A,F,B,G,j,O,k]})};var De=class i{constructor(t){this.http=t}apiUrl="https://ssvsbackend-production.up.railway.app/api/cupos";getCupos(){return this.http.get(this.apiUrl)}getCupoById(t){return this.http.get(`${this.apiUrl}/${t}`)}getCuposWithDetails(t,e){let n=`${this.apiUrl}/medico/${t}/especialidad/${e}`;return this.http.get(n)}getCuposDisponibles(t,e){return this.http.get(`${this.apiUrl}/disponibles?medicoId=${t}&especialidadId=${e}`)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};function Kr(i,t){if(i&1){let e=x();r(0,"button",11),p("click",function(){g(e);let s=m();return f(s.clearSearch())}),a(1," Limpiar b\xFAsqueda "),o()}}function Yr(i,t){if(i&1&&(r(0,"div",12)(1,"h3",13),a(2,"Detalles del Cupo"),o(),r(3,"p")(4,"strong"),a(5,"Horario M\xE9dico Especialidad ID:"),o(),a(6),o(),r(7,"p")(8,"strong"),a(9,"Hora de Inicio:"),o(),a(10),o(),r(11,"p")(12,"strong"),a(13,"Hora de Fin:"),o(),a(14),o()()),i&2){let e=m();d(6),S(" ",e.cupo.horarioMedicoEspecialidadId,""),d(4),S(" ",e.cupo.horaInicio,""),d(4),S(" ",e.cupo.horaFin,"")}}function Xr(i,t){if(i&1&&(r(0,"p",14),a(1),o()),i&2){let e=m();d(),C(e.errorMessage)}}function Qr(i,t){if(i&1&&(r(0,"tr",20)(1,"td",21),a(2),o(),r(3,"td",21),a(4),o(),r(5,"td",21),a(6),o()()),i&2){let e=t.$implicit;d(2),C(e.horarioMedicoEspecialidadId),d(2),C(e.horaInicio),d(2),C(e.horaFin)}}function eo(i,t){if(i&1&&(r(0,"div",15)(1,"h3",13),a(2,"Todos los Cupos"),o(),r(3,"table",16)(4,"thead",17)(5,"tr")(6,"th",18),a(7,"ID"),o(),r(8,"th",18),a(9,"Horario M\xE9dico Especialidad ID"),o(),r(10,"th",18),a(11,"Hora de Inicio"),o(),r(12,"th",18),a(13,"Hora de Fin"),o()()(),r(14,"tbody"),h(15,Qr,7,3,"tr",19),o()()()),i&2){let e=m();d(15),c("ngForOf",e.cupos)}}var Dt=class i{constructor(t){this.cupoService=t}cupos=[];cupo=null;searchId=null;errorMessage="";ngOnInit(){this.getAllCupos()}getAllCupos(){this.cupoService.getCupos().subscribe(t=>{this.cupos=t,this.cupo=null},t=>{this.errorMessage="Error al cargar los cupos",console.error(t)})}searchCupoById(){this.searchId&&this.cupoService.getCupoById(this.searchId).subscribe(t=>{this.cupo=t,this.cupos=[],this.errorMessage=""},t=>{this.errorMessage="Cupo no encontrado",console.error(t)})}clearSearch(){this.searchId=null,this.getAllCupos(),this.errorMessage=""}static \u0275fac=function(e){return new(e||i)(b(De))};static \u0275cmp=E({type:i,selectors:[["app-cupos"]],standalone:!0,features:[I],decls:14,vars:5,consts:[[1,"container","mx-auto","p-4"],[1,"text-2xl","font-semibold","text-gray-700","mb-6"],[1,"mb-6"],[1,"block","text-gray-600","font-semibold","mb-2"],[1,"flex"],["type","number","placeholder","Ingrese ID del cupo",1,"border","border-gray-300","p-2","rounded-l-lg","w-full",3,"ngModelChange","ngModel"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-r-lg","hover:bg-blue-600","transition",3,"click"],["class","mt-2 text-blue-500 hover:underline",3,"click",4,"ngIf"],["class","bg-white p-4 rounded-lg shadow mb-4",4,"ngIf"],["class","text-red-500",4,"ngIf"],["class","mt-6",4,"ngIf"],[1,"mt-2","text-blue-500","hover:underline",3,"click"],[1,"bg-white","p-4","rounded-lg","shadow","mb-4"],[1,"text-lg","font-semibold","text-gray-700","mb-2"],[1,"text-red-500"],[1,"mt-6"],[1,"w-full","bg-white","border","border-gray-200","rounded-lg"],[1,"bg-gray-100","text-gray-600","text-sm","uppercase","tracking-wider"],[1,"py-4","px-6","text-left","font-medium","border-b","border-gray-300"],["class","hover:bg-gray-50 text-gray-800",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50","text-gray-800"],[1,"py-4","px-6","border-b","border-gray-200"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"h2",1),a(2,"Cupos"),o(),r(3,"div",2)(4,"label",3),a(5,"Buscar Cupo por ID"),o(),r(6,"div",4)(7,"input",5),y("ngModelChange",function(l){return _(n.searchId,l)||(n.searchId=l),l}),o(),r(8,"button",6),p("click",function(){return n.searchCupoById()}),a(9," Buscar "),o()(),h(10,Kr,2,0,"button",7),o(),h(11,Yr,15,3,"div",8)(12,Xr,2,1,"p",9)(13,eo,16,1,"div",10),o()),e&2&&(d(7),v("ngModel",n.searchId),d(3),c("ngIf",n.searchId),d(),c("ngIf",n.cupo),d(),c("ngIf",n.errorMessage),d(),c("ngIf",!n.cupo&&n.cupos.length))},dependencies:[P,A,T,F,U,pe,O,k]})};var Ve=class i{constructor(t,e){this.http=t;this.authService=e}apiUrl="https://ssvsbackend-production.up.railway.app/api/reservas";getReservas(){return this.http.get(this.apiUrl)}getDetalleReserva(t){return this.http.get(`${this.apiUrl}/${t}`)}createReserva(t){return this.http.post(this.apiUrl,t)}updateReserva(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deleteReserva(t){return this.http.delete(`${this.apiUrl}/${t}`)}getReservasByMedicoId(){let t=this.authService.getMedicoIdFromToken();return t!==null?this.http.get(`${this.apiUrl}/medico/${t}`):new Xt(e=>{e.next([]),e.complete()})}static \u0275fac=function(e){return new(e||i)(w(D),w(ce))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};var to=(i,t)=>({"bg-gray-200 cursor-not-allowed":i,"bg-white hover:bg-blue-50 cursor-pointer":t}),io=(i,t)=>({"text-gray-500":i,"text-blue-600":t});function no(i,t){if(i&1&&(r(0,"option",22),a(1),o()),i&2){let e=t.$implicit;c("value",e.pacienteId),d(),N(" ",e.nombre," ",e.apellido," ")}}function ro(i,t){if(i&1){let e=x();r(0,"div",18)(1,"label",19),a(2,"Paciente"),o(),r(3,"select",20),y("ngModelChange",function(s){g(e);let l=m();return _(l.newReserva.pacienteId,s)||(l.newReserva.pacienteId=s),f(s)}),h(4,no,2,3,"option",21),o()()}if(i&2){let e=m();d(3),v("ngModel",e.newReserva.pacienteId),d(),c("ngForOf",e.pacientes)}}function oo(i,t){if(i&1&&(r(0,"option",22),a(1),o()),i&2){let e=t.$implicit;c("value",e.id),d(),S(" ",e.nombre," ")}}function ao(i,t){if(i&1){let e=x();r(0,"div",18)(1,"label",23),a(2,"Especialidad"),o(),r(3,"select",24),y("ngModelChange",function(s){g(e);let l=m();return _(l.selectedEspecialidadId,s)||(l.selectedEspecialidadId=s),f(s)}),p("change",function(){g(e);let s=m();return f(s.onEspecialidadChange())}),h(4,oo,2,2,"option",21),o()()}if(i&2){let e=m();d(3),v("ngModel",e.selectedEspecialidadId),d(),c("ngForOf",e.especialidades)}}function so(i,t){if(i&1&&(r(0,"option",22),a(1),o()),i&2){let e=t.$implicit;c("value",e.medicoId),d(),N(" Dr. ",e.medicoNombre," ",e.medicoApellido," ")}}function lo(i,t){if(i&1){let e=x();r(0,"div",18)(1,"label",25),a(2,"M\xE9dico"),o(),r(3,"select",26),y("ngModelChange",function(s){g(e);let l=m();return _(l.selectedMedicoId,s)||(l.selectedMedicoId=s),f(s)}),p("change",function(){g(e);let s=m();return f(s.openCupoModal())}),h(4,so,2,3,"option",21),o()()}if(i&2){let e=m();d(3),v("ngModel",e.selectedMedicoId),d(),c("ngForOf",e.uniqueMedicos)}}function co(i,t){if(i&1){let e=x();r(0,"div",18)(1,"label",27),a(2,"Fecha de la Reserva"),o(),r(3,"input",28),y("ngModelChange",function(s){g(e);let l=m();return _(l.newReserva.fechaReserva,s)||(l.newReserva.fechaReserva=s),f(s)}),o()()}if(i&2){let e=m();d(3),v("ngModel",e.newReserva.fechaReserva)}}function mo(i,t){if(i&1){let e=x();r(0,"tr",29)(1,"td",30),a(2),o(),r(3,"td",30),a(4),o(),r(5,"td",30),a(6),o(),r(7,"td",30),a(8),o(),r(9,"td",30),a(10),o(),r(11,"td",30),a(12),o(),r(13,"td",30),a(14),o(),r(15,"td",31)(16,"button",32),p("click",function(){let s=g(e).$implicit,l=m();return f(l.deleteReserva(s.reservaId))}),u(17,"i",33),r(18,"span"),a(19,"Eliminar"),o()()()()}if(i&2){let e=t.$implicit;d(2),N("",e.nombrePaciente," ",e.apellidoPaciente,""),d(2),N("",e.nombreMedico," ",e.apellidoMedico,""),d(2),C(e.nombreEspecialidad),d(2),C(e.fechaReserva),d(2),C(e.horaInicio),d(2),C(e.horaFin),d(2),C(e.estado)}}function po(i,t){if(i&1){let e=x();r(0,"button",46),p("click",function(){g(e);let s=m().$implicit,l=m(2);return f(l.selectCupo(s))}),a(1," Seleccionar "),o()}}function uo(i,t){i&1&&(r(0,"p",47),a(1,"No Disponible"),o())}function ho(i,t){if(i&1&&(r(0,"div",42)(1,"h4",43),a(2),o(),r(3,"p"),a(4),o(),r(5,"p"),a(6),o(),r(7,"p"),a(8,"Estado: "),r(9,"span"),a(10),o()(),h(11,po,2,0,"button",44)(12,uo,2,0,"p",45),o()),i&2){let e=t.$implicit;c("ngClass",Wt(13,to,e.estado!=="Disponible",e.estado==="Disponible")),d(),c("ngClass",Wt(16,io,e.estado!=="Disponible",e.estado==="Disponible")),d(),S(" ",e.diaSemana," "),d(2),N("Horario: ",e.horaInicio," - ",e.horaFin,""),d(2),S("Jornada: ",e.jornadaNombre,""),d(3),Z("text-red-500",e.estado!=="Disponible")("text-green-600",e.estado==="Disponible"),d(),C(e.estado),d(),c("ngIf",e.estado==="Disponible"),d(),c("ngIf",e.estado!=="Disponible")}}function go(i,t){if(i&1){let e=x();r(0,"div",34)(1,"div",35)(2,"div",36)(3,"h3",37),a(4,"Seleccionar Cupo"),o(),r(5,"button",38),p("click",function(){g(e);let s=m();return f(s.closeCupoModal())}),u(6,"i",39),o()(),r(7,"div",40),h(8,ho,13,19,"div",41),o()()()}if(i&2){let e=m();d(8),c("ngForOf",e.filteredCupos)}}var Vt=class i{constructor(t,e,n,s,l){this.reservaService=t;this.pacienteService=e;this.horarioMedicoEspecialidadService=n;this.cupoService=s;this.userService=l}reservas=[];pacientes=[];especialidades=[];uniqueMedicos=[];cupos=[];filteredCupos=[];newReserva={pacienteId:0,estado:"Reservada",cupoId:0,fechaReserva:new Date().toISOString().split("T")[0]};showCupoModal=!1;selectedMedicoId=null;selectedEspecialidadId=null;ngOnInit(){this.fetchReservas(),this.fetchPacientes(),this.fetchEspecialidades()}fetchReservas(){this.reservaService.getReservas().subscribe(t=>{this.reservas=t,console.log("Reservas obtenidas:",this.reservas)})}fetchPacientes(){this.pacienteService.getPacientes().subscribe(t=>{this.userService.getUsers().subscribe(e=>{this.pacientes=t.map(n=>{let s=e.find(l=>l.id===n.usuarioId);return{pacienteId:n.id,nombre:s?s.nombre:"",apellido:s?s.apellido:""}}),console.log("Pacientes obtenidos:",this.pacientes)})})}fetchEspecialidades(){this.horarioMedicoEspecialidadService.getAll().subscribe(t=>{this.especialidades=t.reduce((e,n)=>(e.some(s=>s.id===n.especialidadId)||e.push({id:n.especialidadId,nombre:n.especialidadNombre}),e),[]),console.log("Especialidades obtenidas:",this.especialidades)})}onEspecialidadChange(){this.selectedEspecialidadId&&this.horarioMedicoEspecialidadService.getMedicosByEspecialidad(this.selectedEspecialidadId).subscribe(t=>{this.uniqueMedicos=[...new Map(t.map(e=>[e.medicoId,e])).values()],console.log("M\xE9dicos \xFAnicos por especialidad:",this.uniqueMedicos),this.cupos=[],this.selectedMedicoId=null})}onMedicoChange(){this.selectedMedicoId&&this.selectedEspecialidadId&&this.openCupoModal()}openCupoModal(){this.selectedMedicoId&&this.selectedEspecialidadId&&this.cupoService.getCuposWithDetails(this.selectedMedicoId,this.selectedEspecialidadId).subscribe(t=>{let e=new Date().getDay();this.filteredCupos=t.filter(n=>this.getDayOfWeek(n.diaSemana)===e),console.log("Cupos filtrados para el d\xEDa actual:",this.filteredCupos),this.showCupoModal=!0})}closeCupoModal(){this.showCupoModal=!1}selectCupo(t){this.newReserva.cupoId=t.cupoId,console.log("Cupo seleccionado:",t),this.closeCupoModal()}createReserva(){this.newReserva.pacienteId&&this.newReserva.cupoId&&this.newReserva.fechaReserva&&this.reservaService.createReserva(this.newReserva).subscribe(()=>{this.fetchReservas(),console.log("Reserva creada:",this.newReserva),this.resetForm()})}resetForm(){this.newReserva={pacienteId:0,estado:"Reservada",cupoId:0,fechaReserva:new Date().toISOString().split("T")[0]},this.selectedMedicoId=null,this.selectedEspecialidadId=null,this.uniqueMedicos=[],this.cupos=[]}deleteReserva(t){confirm("\xBFEst\xE1s seguro de eliminar esta reserva?")&&this.reservaService.deleteReserva(t).subscribe(()=>{this.fetchReservas(),console.log("Reserva eliminada con ID:",t)})}getDayOfWeek(t){return["Domingo","Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"].indexOf(t)}static \u0275fac=function(e){return new(e||i)(b(Ve),b(xe),b(Ie),b(De),b(K))};static \u0275cmp=E({type:i,selectors:[["app-reservas"]],standalone:!0,features:[I],decls:43,vars:6,consts:[[1,"bg-gray-50","min-h-screen","p-8"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-4xl","font-bold","text-gray-800","flex","items-center","space-x-3"],[1,"fas","fa-calendar-check","text-blue-700"],[1,"mb-8","bg-white","p-6","rounded-lg","shadow-lg"],[1,"text-xl","font-semibold","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["class","flex items-center transition-opacity duration-500",4,"ngIf"],[1,"flex","space-x-4","mt-6"],[1,"w-full","bg-blue-600","text-white","py-3","rounded-lg","shadow-md","hover:bg-blue-700","transition","duration-300",3,"click"],[1,"bg-white","rounded-lg","shadow-lg","p-6","mt-8"],[1,"overflow-x-auto"],[1,"min-w-full","bg-white","border","border-gray-200","rounded-lg"],[1,"bg-gray-100","text-gray-600","text-sm","uppercase","tracking-wider"],[1,"py-4","px-6","text-left","font-medium","border-b","border-gray-300"],[1,"py-4","px-6","text-center","font-medium","border-b","border-gray-300"],["class","hover:bg-gray-50 text-gray-800",4,"ngFor","ngForOf"],["class","fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center",4,"ngIf"],[1,"flex","items-center","transition-opacity","duration-500"],["for","pacienteSelect",1,"text-gray-700","font-semibold","mr-4"],["id","pacienteSelect",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","especialidadSelect",1,"text-gray-700","font-semibold","mr-4"],["id","especialidadSelect",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","change","ngModel"],["for","medicoSelect",1,"text-gray-700","font-semibold","mr-4"],["id","medicoSelect",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","change","ngModel"],["for","fechaReserva",1,"text-gray-700","font-semibold","mr-4"],["type","date","id","fechaReserva",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],[1,"hover:bg-gray-50","text-gray-800"],[1,"py-4","px-6","border-b","border-gray-200"],[1,"py-4","px-6","border-b","border-gray-200","flex","justify-center","space-x-4"],[1,"flex","items-center","bg-red-100","text-red-600","px-4","py-2","rounded-full","shadow","hover:bg-red-200","transition","duration-300","space-x-2",3,"click"],[1,"fas","fa-trash-alt"],[1,"fixed","inset-0","bg-gray-900","bg-opacity-50","flex","items-center","justify-center"],[1,"bg-white","rounded-lg","shadow-lg","p-6","w-full","max-w-3xl","max-h-full","overflow-y-auto"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-2xl","font-semibold","text-gray-700"],[1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"fas","fa-times"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["class","p-4 border rounded-lg transition duration-300",3,"ngClass",4,"ngFor","ngForOf"],[1,"p-4","border","rounded-lg","transition","duration-300",3,"ngClass"],[1,"font-semibold",3,"ngClass"],["class","mt-3 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300 w-full",3,"click",4,"ngIf"],["class","text-gray-500 text-center mt-2",4,"ngIf"],[1,"mt-3","bg-blue-600","text-white","py-2","px-4","rounded-lg","hover:bg-blue-700","transition","duration-300","w-full",3,"click"],[1,"text-gray-500","text-center","mt-2"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),u(3,"i",3),r(4,"span"),a(5,"Gesti\xF3n de Reservas"),o()()(),r(6,"div",4)(7,"h2",5),a(8,"Crear Nueva Reserva"),o(),r(9,"div",6),h(10,ro,5,2,"div",7)(11,ao,5,2,"div",7)(12,lo,5,2,"div",7)(13,co,4,1,"div",7),o(),r(14,"div",8)(15,"button",9),p("click",function(){return n.createReserva()}),a(16," Crear Reserva "),o()()(),r(17,"div",10)(18,"h2",5),a(19,"Lista de Reservas"),o(),r(20,"div",11)(21,"table",12)(22,"thead")(23,"tr",13)(24,"th",14),a(25,"Paciente"),o(),r(26,"th",14),a(27,"M\xE9dico"),o(),r(28,"th",14),a(29,"Especialidad"),o(),r(30,"th",14),a(31,"Fecha"),o(),r(32,"th",14),a(33,"Hora de Inicio"),o(),r(34,"th",14),a(35,"Hora de Fin"),o(),r(36,"th",14),a(37,"Estado"),o(),r(38,"th",15),a(39,"Acciones"),o()()(),r(40,"tbody"),h(41,mo,20,9,"tr",16),o()()()(),h(42,go,9,1,"div",17),o()),e&2&&(d(10),c("ngIf",n.pacientes.length),d(),c("ngIf",n.newReserva.pacienteId),d(),c("ngIf",n.selectedEspecialidadId&&n.uniqueMedicos.length>0),d(),c("ngIf",n.newReserva.cupoId),d(28),c("ngForOf",n.reservas),d(),c("ngIf",n.showCupoModal))},dependencies:[P,di,A,T,F,B,G,U,j,O,k]})};var Pt=class i{constructor(t){this.http=t}apiUrl="https://ssvsbackend-production.up.railway.app/api/consultas";getAllConsultas(){return this.http.get(this.apiUrl)}getConsultaById(t){return this.http.get(`${this.apiUrl}/${t}`)}createConsulta(t){return this.http.post(this.apiUrl,t)}updateConsulta(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deleteConsulta(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ft=class i{constructor(t){this.http=t}apiUrl="https://ssvsbackend-production.up.railway.app/api/recetas";getAllRecetas(){return this.http.get(this.apiUrl)}getRecetaById(t){return this.http.get(`${this.apiUrl}/${t}`)}getRecetaDetallesByConsultaId(t){return this.http.get(`${this.apiUrl}/detalles/${t}`)}createReceta(t){return this.http.post(this.apiUrl,t)}updateReceta(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deleteReceta(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};var kt=class i{constructor(t){this.http=t}baseUrl="https://ssvsbackend-production.up.railway.app/api/recetas-medicamentos";getMedicamentosByRecetaId(t){return this.http.get(`${this.baseUrl}/receta/${t}`)}addMedicamentoToReceta(t){return this.http.post(this.baseUrl,t)}removeMedicamentoFromReceta(t,e){return this.http.delete(`${this.baseUrl}?recetaId=${t}&medicamentoId=${e}`)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};var Pe=class i{constructor(t){this.http=t}baseUrl="https://ssvsbackend-production.up.railway.app/api/medicamentos";getAllMedicamentos(){return this.http.get(this.baseUrl)}getMedicamentoById(t){return this.http.get(`${this.baseUrl}/${t}`)}createMedicamento(t){return this.http.post(this.baseUrl,t)}updateMedicamento(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}deleteMedicamento(t){return this.http.delete(`${this.baseUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ot=class i{constructor(t){this.http=t}apiUrl="https://ssvsbackend-production.up.railway.app/api/laboratorio";getLaboratorios(){return this.http.get(this.apiUrl)}getLaboratorioById(t){return this.http.get(`${this.apiUrl}/${t}`)}createLaboratorio(t){return this.http.post(this.apiUrl,t)}updateLaboratorio(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}getLaboratorioByConsultaId(t){return this.http.get(`${this.apiUrl}/consulta/${t}`)}deleteLaboratorio(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};function yo(i,t){if(i&1&&(r(0,"option",20),a(1),o()),i&2){let e=t.$implicit;c("value",e.reservaId),d(),N(" Reserva #",e.reservaId," - Paciente: ",e.nombrePaciente," ")}}function Co(i,t){if(i&1&&(r(0,"div",5)(1,"h3"),a(2,"Detalles de la Reserva Seleccionada"),o(),r(3,"table",16)(4,"tr")(5,"th",17),a(6,"Fecha de Reserva"),o(),r(7,"td",17),a(8),Y(9,"date"),o()(),r(10,"tr")(11,"th",17),a(12,"Estado"),o(),r(13,"td",17),a(14),o()(),r(15,"tr")(16,"th",17),a(17,"M\xE9dico"),o(),r(18,"td",17),a(19),o()(),r(20,"tr")(21,"th",17),a(22,"Especialidad"),o(),r(23,"td",17),a(24),o()(),r(25,"tr")(26,"th",17),a(27,"Hora de Inicio"),o(),r(28,"td",17),a(29),o()(),r(30,"tr")(31,"th",17),a(32,"Hora de Fin"),o(),r(33,"td",17),a(34),o()()()()),i&2){let e=m();d(8),C(Je(9,7,e.reservaSeleccionada.fechaReserva)),d(6),C(e.reservaSeleccionada.estado),d(5),N("",e.reservaSeleccionada.nombreMedico," ",e.reservaSeleccionada.apellidoMedico,""),d(5),C(e.reservaSeleccionada.nombreEspecialidad),d(5),C(e.reservaSeleccionada.horaInicio),d(5),C(e.reservaSeleccionada.horaFin)}}function xo(i,t){if(i&1){let e=x();r(0,"tr")(1,"td",17),a(2),o(),r(3,"td",17),a(4),o(),r(5,"td",17),a(6),o(),r(7,"td",17),a(8),o(),r(9,"td",17),a(10),Y(11,"date"),o(),r(12,"td",21)(13,"button",22),p("click",function(){let s=g(e).$implicit,l=m();return f(l.openConsultaDetails(s))}),a(14,"Ver Consulta"),o(),r(15,"button",23),p("click",function(){let s=g(e).$implicit,l=m();return f(l.openCrearRecetaModal(s))}),a(16,"Crear Receta"),o(),r(17,"button",24),p("click",function(){let s=g(e).$implicit,l=m();return f(l.loadRecetaDetalles(s.consultaId))}),a(18," Ver Receta "),o(),r(19,"button",25),p("click",function(){let s=g(e).$implicit,l=m();return f(l.openLaboratorioModal(s.consultaId))}),a(20," Programar Laboratorio "),o(),r(21,"button",26),p("click",function(){let s=g(e).$implicit,l=m();return f(l.openVerLaboratorioModal(s.consultaId))}),a(22," Ver Laboratorio "),o()()()}if(i&2){let e=t.$implicit;d(2),C(e.consultaId),d(2),C(e.reservaId),d(2),N("",e.nombrePaciente," ",e.apellidoPaciente,""),d(2),N("",e.nombreMedico," ",e.apellidoMedico,""),d(2),C(te(11,7,e.fechaConsulta,"short"))}}function So(i,t){if(i&1){let e=x();r(0,"div",27)(1,"div",28)(2,"h3",29),a(3,"Programar Laboratorio"),o(),r(4,"label",30),a(5,"Tipo de An\xE1lisis:"),o(),r(6,"input",31),y("ngModelChange",function(s){g(e);let l=m();return _(l.laboratorioSeleccionado.tipoAnalisis,s)||(l.laboratorioSeleccionado.tipoAnalisis=s),f(s)}),o(),r(7,"label",32),a(8,"Descripci\xF3n:"),o(),r(9,"textarea",33),y("ngModelChange",function(s){g(e);let l=m();return _(l.laboratorioSeleccionado.descripcion,s)||(l.laboratorioSeleccionado.descripcion=s),f(s)}),o(),r(10,"label",34),a(11,"Fecha y Hora de Programaci\xF3n:"),o(),r(12,"input",35),y("ngModelChange",function(s){g(e);let l=m();return _(l.laboratorioSeleccionado.fechaProgramacion,s)||(l.laboratorioSeleccionado.fechaProgramacion=s),f(s)}),o(),r(13,"button",36),p("click",function(){g(e);let s=m();return f(s.programarLaboratorio())}),a(14," Guardar "),o(),r(15,"button",37),p("click",function(){g(e);let s=m();return f(s.closeLaboratorioModal())}),a(16," Cancelar "),o()()()}if(i&2){let e=m();d(6),v("ngModel",e.laboratorioSeleccionado.tipoAnalisis),d(3),v("ngModel",e.laboratorioSeleccionado.descripcion),d(3),v("ngModel",e.laboratorioSeleccionado.fechaProgramacion)}}function Mo(i,t){if(i&1){let e=x();r(0,"div",27)(1,"div",28)(2,"h3",29),a(3,"Detalles del Laboratorio"),o(),r(4,"p")(5,"strong"),a(6,"Tipo de An\xE1lisis:"),o(),a(7),o(),r(8,"p")(9,"strong"),a(10,"Descripci\xF3n:"),o(),a(11),o(),r(12,"p")(13,"strong"),a(14,"Fecha Programada:"),o(),a(15),Y(16,"date"),o(),r(17,"button",38),p("click",function(){g(e);let s=m();return f(s.closeVerLaboratorioModal())}),a(18," Cerrar "),o()()()}if(i&2){let e=m();d(7),S(" ",e.laboratorioSeleccionado.tipoAnalisis,""),d(4),S(" ",e.laboratorioSeleccionado.descripcion,""),d(4),S(" ",te(16,3,e.laboratorioSeleccionado.fechaProgramacion,"short"),"")}}function wo(i,t){if(i&1){let e=x();r(0,"div",27)(1,"div",28)(2,"h3",29),a(3,"Detalles de la Consulta"),o(),r(4,"p")(5,"strong"),a(6,"Consulta ID:"),o(),a(7),o(),r(8,"p")(9,"strong"),a(10,"Reserva ID:"),o(),a(11),o(),r(12,"p")(13,"strong"),a(14,"Paciente:"),o(),a(15),o(),r(16,"p")(17,"strong"),a(18,"M\xE9dico:"),o(),a(19),o(),r(20,"p")(21,"strong"),a(22,"Fecha de Consulta:"),o(),a(23),Y(24,"date"),o(),r(25,"p")(26,"strong"),a(27,"Diagn\xF3stico:"),o(),a(28),o(),r(29,"p")(30,"strong"),a(31,"Tratamiento:"),o(),a(32),o(),r(33,"p")(34,"strong"),a(35,"Notas:"),o(),a(36),o(),r(37,"button",38),p("click",function(){g(e);let s=m();return f(s.closeConsultaDetails())}),a(38,"Cerrar"),o()()()}if(i&2){let e=m();d(7),S(" ",e.consultaSeleccionada.consultaId,""),d(4),S(" ",e.consultaSeleccionada.reservaId,""),d(4),N(" ",e.consultaSeleccionada.nombrePaciente," ",e.consultaSeleccionada.apellidoPaciente,""),d(4),N(" ",e.consultaSeleccionada.nombreMedico," ",e.consultaSeleccionada.apellidoMedico,""),d(4),S(" ",te(24,10,e.consultaSeleccionada.fechaConsulta,"short"),""),d(5),S(" ",e.consultaSeleccionada.diagnostico,""),d(4),S(" ",e.consultaSeleccionada.tratamiento,""),d(4),S(" ",e.consultaSeleccionada.notas,"")}}function Eo(i,t){if(i&1){let e=x();r(0,"div",27)(1,"div",28)(2,"h3",29),a(3,"Crear Receta"),o(),r(4,"label",39),a(5,"Instrucciones:"),o(),r(6,"textarea",40),y("ngModelChange",function(s){g(e);let l=m();return _(l.recetaInstrucciones,s)||(l.recetaInstrucciones=s),f(s)}),o(),r(7,"button",36),p("click",function(){g(e);let s=m();return f(s.saveReceta())}),a(8,"Guardar Receta"),o()()()}if(i&2){let e=m();d(6),v("ngModel",e.recetaInstrucciones)}}function Io(i,t){if(i&1&&(r(0,"option",20),a(1),o()),i&2){let e=t.$implicit;c("value",e.id),d(),C(e.nombre)}}function Do(i,t){if(i&1&&(r(0,"li"),a(1),o()),i&2){let e=t.$implicit;d(),ri(" Medicamento ID: ",e.medicamentoId,", Dosis: ",e.dosis,", Frecuencia: ",e.frecuencia,", Duraci\xF3n: ",e.duracion," d\xEDas ")}}function Vo(i,t){if(i&1){let e=x();r(0,"div",27)(1,"div",28)(2,"h4"),a(3,"A\xF1adir Medicamento"),o(),r(4,"select",41),y("ngModelChange",function(s){g(e);let l=m();return _(l.nuevoMedicamento.medicamentoId,s)||(l.nuevoMedicamento.medicamentoId=s),f(s)}),h(5,Io,2,2,"option",3),o(),r(6,"input",42),y("ngModelChange",function(s){g(e);let l=m();return _(l.nuevoMedicamento.dosis,s)||(l.nuevoMedicamento.dosis=s),f(s)}),o(),r(7,"input",43),y("ngModelChange",function(s){g(e);let l=m();return _(l.nuevoMedicamento.frecuencia,s)||(l.nuevoMedicamento.frecuencia=s),f(s)}),o(),r(8,"input",44),y("ngModelChange",function(s){g(e);let l=m();return _(l.nuevoMedicamento.duracion,s)||(l.nuevoMedicamento.duracion=s),f(s)}),o(),r(9,"button",45),p("click",function(){g(e);let s=m();return f(s.addMedicamentoToReceta())}),a(10,"A\xF1adir Medicamento"),o(),r(11,"ul"),h(12,Do,2,4,"li",18),o(),r(13,"button",46),p("click",function(){g(e);let s=m();return f(s.closeRecetaMedicamentosModal())}),a(14,"Cerrar"),o()()()}if(i&2){let e=m();d(4),v("ngModel",e.nuevoMedicamento.medicamentoId),d(),c("ngForOf",e.medicamentos),d(),v("ngModel",e.nuevoMedicamento.dosis),d(),v("ngModel",e.nuevoMedicamento.frecuencia),d(),v("ngModel",e.nuevoMedicamento.duracion),d(4),c("ngForOf",e.recetaMedicamentos)}}function Po(i,t){if(i&1&&(r(0,"tr")(1,"td",17),a(2),o(),r(3,"td",17),a(4),o(),r(5,"td",17),a(6),o(),r(7,"td",17),a(8),o()()),i&2){let e=m().$implicit;d(2),C(e.medicamentoNombre),d(2),C(e.medicamentoDosis),d(2),C(e.medicamentoFrecuencia),d(2),S("",e.medicamentoDuracion," d\xEDas")}}function Fo(i,t){i&1&&(r(0,"tr")(1,"td",52),a(2,"No hay medicamentos recetados"),o()())}function ko(i,t){if(i&1&&(r(0,"div",49)(1,"h4",50),a(2),o(),r(3,"p")(4,"strong"),a(5,"Fecha de Emisi\xF3n:"),o(),a(6),Y(7,"date"),o(),r(8,"p")(9,"strong"),a(10,"Instrucciones:"),o(),a(11),o(),r(12,"p")(13,"strong"),a(14,"Diagn\xF3stico:"),o(),a(15),o(),r(16,"p")(17,"strong"),a(18,"Tratamiento:"),o(),a(19),o(),r(20,"p")(21,"strong"),a(22,"Notas:"),o(),a(23),o(),r(24,"h4",5),a(25,"Detalles del Paciente"),o(),r(26,"p")(27,"strong"),a(28,"Nombre:"),o(),a(29),o(),r(30,"h4",5),a(31,"Detalles del M\xE9dico"),o(),r(32,"p")(33,"strong"),a(34,"Nombre:"),o(),a(35),o(),r(36,"p")(37,"strong"),a(38,"Especialidad:"),o(),a(39),o(),r(40,"h4",5),a(41,"Detalles de la Consulta"),o(),r(42,"p")(43,"strong"),a(44,"D\xEDa de Atenci\xF3n:"),o(),a(45),o(),r(46,"p")(47,"strong"),a(48,"Hora de Inicio:"),o(),a(49),o(),r(50,"p")(51,"strong"),a(52,"Hora de Fin:"),o(),a(53),o(),r(54,"h4",5),a(55,"Medicamentos Recetados"),o(),r(56,"table",16)(57,"thead")(58,"tr")(59,"th",17),a(60,"Medicamento"),o(),r(61,"th",17),a(62,"Dosis"),o(),r(63,"th",17),a(64,"Frecuencia"),o(),r(65,"th",17),a(66,"Duraci\xF3n"),o()()(),r(67,"tbody"),h(68,Po,9,4,"tr",51)(69,Fo,3,0,"ng-template",null,0,ge),o()()()),i&2){let e=t.$implicit,n=t.index,s=ae(70);d(2),S("Receta #",n+1,""),d(4),S(" ",te(7,16,e.fechaEmision,"short"),""),d(5),S(" ",e.instrucciones,""),d(4),S(" ",e.diagnostico,""),d(4),S(" ",e.tratamiento,""),d(4),S(" ",e.notas,""),d(6),N(" ",e.pacienteNombre," ",e.pacienteApellido,""),d(6),N(" ",e.medicoNombre," ",e.medicoApellido,""),d(4),S(" ",e.especialidadNombre,""),d(6),S(" ",e.diaAtencion,""),d(4),S(" ",e.consultaHoraInicio,""),d(4),S(" ",e.consultaHoraFinal,""),d(15),c("ngIf",e.medicamentoNombre)("ngIfElse",s)}}function Oo(i,t){if(i&1){let e=x();r(0,"div",27)(1,"div",47)(2,"h3",29),a(3,"Detalles de las Recetas"),o(),h(4,ko,71,19,"div",48),r(5,"button",38),p("click",function(){g(e);let s=m();return f(s.closeRecetaDetallesModal())}),a(6," Cerrar "),o()()()}if(i&2){let e=m();d(4),c("ngForOf",e.recetaDetalles)}}var Rt=class i{constructor(t,e,n,s,l,H){this.consultaService=t;this.reservaService=e;this.recetaService=n;this.recetaMedicamentoService=s;this.medicamentoService=l;this.laboratorioService=H}reservas=[];consultas=[];consulta={reservaId:null,historiaId:null,fechaConsulta:new Date,diagnostico:"",tratamiento:"",notas:""};consultaSeleccionada=null;recetaInstrucciones="";medicamentos=[];recetaMedicamentos=[];showRecetaModal=!1;showRecetaMedicamentosModal=!1;reservaSeleccionada=null;consultaParaReceta=null;medicoId;consultaGuardada=!1;nuevoMedicamento={recetaId:null,medicamentoId:0,dosis:"",frecuencia:"",duracion:0};recetaDetalles;showRecetaDetallesModal=!1;laboratorio={consultaId:0,tipoAnalisis:"",descripcion:"",fechaProgramacion:new Date().toISOString().slice(0,16)};laboratorioSeleccionado=null;showLaboratorioModal=!1;showVerLaboratorioModal=!1;ngOnInit(){this.loadConsultas(),this.loadReservas(),this.loadMedicamentos()}openLaboratorioModal(t){this.laboratorioSeleccionado={consultaId:t,tipoAnalisis:"",descripcion:"",fechaProgramacion:new Date().toISOString().slice(0,16)},this.showLaboratorioModal=!0}closeLaboratorioModal(){this.showLaboratorioModal=!1}closeVerLaboratorioModal(){this.showVerLaboratorioModal=!1,this.laboratorioSeleccionado=null}programarLaboratorio(){this.laboratorioSeleccionado&&this.laboratorioService.createLaboratorio(this.laboratorioSeleccionado).subscribe(t=>{alert("Laboratorio programado exitosamente."),this.closeLaboratorioModal()},t=>{console.error("Error al programar laboratorio:",t)})}openVerLaboratorioModal(t){this.laboratorioService.getLaboratorioByConsultaId(t).subscribe(e=>{this.laboratorioSeleccionado=e,this.showVerLaboratorioModal=!0},e=>{alert("No se encontr\xF3 laboratorio para esta consulta."),console.error("Error al cargar laboratorio:",e)})}loadRecetaDetalles(t){this.recetaService.getRecetaDetallesByConsultaId(t).subscribe(e=>{this.recetaDetalles=e,this.showRecetaDetallesModal=!0,console.log("Detalles de las recetas cargadas:",this.recetaDetalles)})}closeRecetaDetallesModal(){this.showRecetaDetallesModal=!1,this.recetaDetalles=[]}loadConsultas(){this.consultaService.getAllConsultas().subscribe(t=>{this.consultas=t,console.log("Consultas cargadas:",this.consultas),this.filterReservas()})}loadReservas(){this.reservaService.getReservasByMedicoId().subscribe(t=>{this.reservas=t,console.log("Reservas cargadas:",this.reservas),this.filterReservas()},t=>{console.log("Error al cargar reservas:",t)})}filterReservas(){if(this.consultas&&this.reservas){let t=new Set(this.consultas.map(e=>e.reservaId));this.reservas=this.reservas.filter(e=>!t.has(e.reservaId)),console.log("Reservas filtradas (sin consultas asociadas):",this.reservas)}else console.warn("No se pudo filtrar reservas porque no hay datos disponibles en consultas o reservas.")}loadMedicamentos(){this.medicamentoService.getAllMedicamentos().subscribe(t=>{this.medicamentos=t,console.log("Medicamentos cargados:",this.medicamentos)})}onReservaChange(t){let e=t.target,n=Number(e.value);this.reservaService.getDetalleReserva(n).subscribe(s=>{this.reservaSeleccionada=s,this.consulta.reservaId=n,this.consulta.historiaId=s.historiaId,console.log("Reserva seleccionada:",this.reservaSeleccionada),console.log("Consulta actualizada con reserva seleccionada:",this.consulta)})}saveConsulta(){console.log("Guardando consulta:",this.consulta),this.consultaService.createConsulta(this.consulta).subscribe(()=>{alert("Consulta creada exitosamente"),this.loadConsultas(),this.consultaGuardada=!0})}openCrearRecetaModal(t){this.consultaParaReceta=t,this.showRecetaModal=!0,console.log("Abrir modal de receta para la consulta:",this.consultaParaReceta)}closeRecetaModal(){this.showRecetaModal=!1,this.recetaInstrucciones="",this.recetaMedicamentos=[],this.nuevoMedicamento={recetaId:0,medicamentoId:0,dosis:"",frecuencia:"",duracion:0},console.log("Modal de receta cerrado")}saveReceta(){if(this.consultaParaReceta&&this.consultaParaReceta.consultaId){let t={consultaId:this.consultaParaReceta.consultaId,fechaEmision:new Date().toISOString(),instrucciones:this.recetaInstrucciones};console.log("Guardando receta:",t),this.recetaService.createReceta(t).subscribe(e=>{console.log("Respuesta de creaci\xF3n de receta:",e);let n=e.id;this.nuevoMedicamento.recetaId=n,this.showRecetaMedicamentosModal=!0,alert("Receta creada exitosamente. Ahora puede a\xF1adir medicamentos.")})}else alert("Error: No se pudo obtener el ID de la consulta para crear la receta.")}openConsultaDetails(t){this.consultaSeleccionada=t,console.log("Detalles de la consulta abierta:",this.consultaSeleccionada)}closeConsultaDetails(){this.consultaSeleccionada=null,console.log("Detalles de la consulta cerrados")}addMedicamentoToReceta(){if(!this.nuevoMedicamento.recetaId){console.log("Error: No hay recetaId asignado para los medicamentos.");return}console.log("A\xF1adiendo medicamento a la receta:",this.nuevoMedicamento),this.recetaMedicamentoService.addMedicamentoToReceta(this.nuevoMedicamento).subscribe(t=>{console.log("Medicamento a\xF1adido a la receta:",t),this.recetaMedicamentos.push(R({},this.nuevoMedicamento)),this.nuevoMedicamento={recetaId:this.nuevoMedicamento.recetaId,medicamentoId:0,dosis:"",frecuencia:"",duracion:0},alert("Medicamento a\xF1adido exitosamente.")})}saveRecetaMedicamentos(){console.log("Guardando todos los medicamentos de la receta:",this.recetaMedicamentos),this.recetaMedicamentos.forEach(t=>{this.recetaMedicamentoService.addMedicamentoToReceta(t).subscribe(()=>{console.log("Medicamento a\xF1adido a la receta en el backend:",t)})}),alert("Todos los medicamentos han sido a\xF1adidos a la receta."),this.closeRecetaMedicamentosModal()}closeRecetaMedicamentosModal(){this.showRecetaMedicamentosModal=!1,this.recetaMedicamentos=[],console.log("Modal de a\xF1adir medicamentos cerrado")}static \u0275fac=function(e){return new(e||i)(b(Pt),b(Ve),b(Ft),b(kt),b(Pe),b(Ot))};static \u0275cmp=E({type:i,selectors:[["app-consulta-medica"]],inputs:{medicoId:"medicoId"},standalone:!0,features:[I],decls:49,vars:14,consts:[["noMedicamentos",""],["for","reserva"],["id","reserva",3,"change","ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","mt-4",4,"ngIf"],[1,"mt-4"],["for","historiaId"],["type","number","id","historiaId","placeholder","Ingrese Historia ID",1,"w-full","border","rounded","px-3","py-2",3,"ngModelChange","ngModel"],["for","diagnostico",1,"mt-2","block"],["type","text","id","diagnostico",1,"w-full","border","rounded","px-3","py-2",3,"ngModelChange","ngModel"],["for","tratamiento",1,"mt-2","block"],["type","text","id","tratamiento",1,"w-full","border","rounded","px-3","py-2",3,"ngModelChange","ngModel"],["for","notas",1,"mt-2","block"],["id","notas",1,"w-full","border","rounded","px-3","py-2",3,"ngModelChange","ngModel"],[1,"bg-blue-500","text-white","px-4","py-2","rounded","mt-3",3,"click"],[1,"mt-8"],[1,"table-auto","w-full","border","border-gray-300","mt-2"],[1,"border","px-4","py-2"],[4,"ngFor","ngForOf"],["class","fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",4,"ngIf"],[3,"value"],[1,"border","px-4","py-2","flex","space-x-3"],[1,"bg-gray-500","text-white","px-2","py-1","rounded",3,"click"],[1,"bg-green-500","text-white","px-2","py-1","rounded",3,"click"],[1,"bg-blue-500","text-white","px-2","py-1","rounded",3,"click"],[1,"bg-yellow-500","text-white","px-2","py-1","rounded",3,"click"],[1,"bg-purple-500","text-white","px-2","py-1","rounded",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","justify-center","items-center"],[1,"bg-white","p-4","rounded","shadow-lg","w-1/2"],[1,"text-lg","font-bold","mb-4"],["for","tipoAnalisis"],["type","text","id","tipoAnalisis","placeholder","Ingrese el tipo de an\xE1lisis",1,"w-full","border","rounded","px-3","py-2",3,"ngModelChange","ngModel"],["for","descripcion",1,"mt-2","block"],["id","descripcion",1,"w-full","border","rounded","px-3","py-2",3,"ngModelChange","ngModel"],["for","fechaProgramacion",1,"mt-2","block"],["type","datetime-local","id","fechaProgramacion",1,"w-full","border","rounded","px-3","py-2",3,"ngModelChange","ngModel"],[1,"bg-green-500","text-white","px-4","py-2","rounded","mt-4",3,"click"],[1,"bg-red-500","text-white","px-4","py-2","rounded","mt-4","ml-2",3,"click"],[1,"bg-red-500","text-white","px-4","py-2","rounded","mt-3",3,"click"],["for","instrucciones"],["id","instrucciones",1,"w-full","border","rounded","px-3","py-2",3,"ngModelChange","ngModel"],[1,"w-full","border","rounded","px-3","py-2",3,"ngModelChange","ngModel"],["type","text","placeholder","Dosis",1,"w-full","border","rounded","px-3","py-2","mt-2",3,"ngModelChange","ngModel"],["type","text","placeholder","Frecuencia",1,"w-full","border","rounded","px-3","py-2","mt-2",3,"ngModelChange","ngModel"],["type","number","placeholder","Duraci\xF3n (d\xEDas)",1,"w-full","border","rounded","px-3","py-2","mt-2",3,"ngModelChange","ngModel"],[1,"bg-blue-500","text-white","px-4","py-2","rounded","mt-2",3,"click"],[1,"bg-red-500","text-white","px-4","py-2","rounded","mt-4",3,"click"],[1,"bg-white","p-4","rounded","shadow-lg","w-3/4","overflow-y-auto","max-h-screen"],["class","border-b pb-4 mb-4",4,"ngFor","ngForOf"],[1,"border-b","pb-4","mb-4"],[1,"text-lg","font-semibold"],[4,"ngIf","ngIfElse"],["colspan","4",1,"text-center","border","px-4","py-2"]],template:function(e,n){e&1&&(r(0,"div")(1,"h2"),a(2,"Crear Consulta M\xE9dica"),o(),r(3,"label",1),a(4,"Seleccionar Reserva:"),o(),r(5,"select",2),p("change",function(l){return n.onReservaChange(l)}),y("ngModelChange",function(l){return _(n.consulta.reservaId,l)||(n.consulta.reservaId=l),l}),h(6,yo,2,3,"option",3),o(),h(7,Co,35,9,"div",4),r(8,"div",5)(9,"label",6),a(10,"Historia ID:"),o(),r(11,"input",7),y("ngModelChange",function(l){return _(n.consulta.historiaId,l)||(n.consulta.historiaId=l),l}),o(),r(12,"label",8),a(13,"Diagn\xF3stico:"),o(),r(14,"input",9),y("ngModelChange",function(l){return _(n.consulta.diagnostico,l)||(n.consulta.diagnostico=l),l}),o(),r(15,"label",10),a(16,"Tratamiento:"),o(),r(17,"input",11),y("ngModelChange",function(l){return _(n.consulta.tratamiento,l)||(n.consulta.tratamiento=l),l}),o(),r(18,"label",12),a(19,"Notas:"),o(),r(20,"textarea",13),y("ngModelChange",function(l){return _(n.consulta.notas,l)||(n.consulta.notas=l),l}),o(),r(21,"button",14),p("click",function(){return n.saveConsulta()}),a(22,"Guardar Consulta"),o()(),r(23,"div",15)(24,"h3"),a(25,"Consultas M\xE9dicas Registradas"),o(),r(26,"table",16)(27,"thead")(28,"tr")(29,"th",17),a(30,"Consulta ID"),o(),r(31,"th",17),a(32,"Reserva ID"),o(),r(33,"th",17),a(34,"Paciente"),o(),r(35,"th",17),a(36,"M\xE9dico"),o(),r(37,"th",17),a(38,"Fecha de Consulta"),o(),r(39,"th",17),a(40,"Acciones"),o()()(),r(41,"tbody"),h(42,xo,23,10,"tr",18),o()()(),h(43,So,17,3,"div",19)(44,Mo,19,6,"div",19)(45,wo,39,13,"div",19)(46,Eo,9,1,"div",19)(47,Vo,15,6,"div",19),o(),h(48,Oo,7,1,"div",19)),e&2&&(d(5),v("ngModel",n.consulta.reservaId),d(),c("ngForOf",n.reservas),d(),c("ngIf",n.reservaSeleccionada),d(4),v("ngModel",n.consulta.historiaId),d(3),v("ngModel",n.consulta.diagnostico),d(3),v("ngModel",n.consulta.tratamiento),d(3),v("ngModel",n.consulta.notas),d(22),c("ngForOf",n.consultas),d(),c("ngIf",n.showLaboratorioModal),d(),c("ngIf",n.showVerLaboratorioModal&&n.laboratorioSeleccionado),d(),c("ngIf",n.consultaSeleccionada),d(),c("ngIf",n.showRecetaModal),d(),c("ngIf",n.showRecetaMedicamentosModal),d(),c("ngIf",n.showRecetaDetallesModal&&n.recetaDetalles))},dependencies:[P,A,T,de,F,B,G,U,pe,j,O,k],encapsulation:2})};var At=class i{constructor(t){this.http=t}apiUrl="https://ssvsbackend-production.up.railway.app/api/permisos-postergacion";getAllPermisos(){return this.http.get(this.apiUrl)}getPermisoById(t){return this.http.get(`${this.apiUrl}/${t}`)}createPermiso(t){return this.http.post(this.apiUrl,t)}updatePermiso(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deletePermiso(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(w(D))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})};function Ao(i,t){if(i&1){let e=x();r(0,"div",3)(1,"label",22),a(2,"Hora de Inicio:"),o(),r(3,"input",23),y("ngModelChange",function(s){g(e);let l=m();return _(l.permiso.horaInicio,s)||(l.permiso.horaInicio=s),f(s)}),o()()}if(i&2){let e=m();d(3),v("ngModel",e.permiso.horaInicio)}}function No(i,t){if(i&1){let e=x();r(0,"div",3)(1,"label",24),a(2,"Hora de Fin:"),o(),r(3,"input",25),y("ngModelChange",function(s){g(e);let l=m();return _(l.permiso.horaFin,s)||(l.permiso.horaFin=s),f(s)}),o()()}if(i&2){let e=m();d(3),v("ngModel",e.permiso.horaFin)}}function To(i,t){if(i&1&&(r(0,"option",32),a(1),o()),i&2){let e=t.$implicit;c("value",e),d(),C(e)}}function Uo(i,t){if(i&1){let e=x();r(0,"tr",26)(1,"td",27),a(2),o(),r(3,"td",27),a(4),o(),r(5,"td",27),a(6),o(),r(7,"td",27),a(8),Y(9,"date"),o(),r(10,"td",27),a(11),o(),r(12,"td",27),a(13),o(),r(14,"td",27)(15,"select",28),y("ngModelChange",function(s){let l=g(e).$implicit;return _(l.estado,s)||(l.estado=s),f(s)}),p("change",function(){let s=g(e).$implicit,l=m();return f(l.changeEstado(s,s.estado))}),h(16,To,2,2,"option",29),o()(),r(17,"td",27),a(18),o(),r(19,"td",27)(20,"button",30),p("click",function(){let s=g(e).$implicit,l=m();return f(l.editPermiso(s))}),a(21,"Editar"),o(),r(22,"button",31),p("click",function(){let s=g(e).$implicit,l=m();return f(l.deletePermiso(s.postergacionId))}),a(23,"Eliminar"),o()()()}if(i&2){let e=t.$implicit,n=m();d(2),C(e.postergacionId),d(2),C(e.medicoId),d(2),C(e.tipoPostergacion),d(2),C(Je(9,9,e.fechaInicio)),d(3),C(e.horaInicio),d(2),C(e.horaFin),d(2),v("ngModel",e.estado),d(),c("ngForOf",n.estadosDisponibles),d(2),C(e.motivo)}}var Nt=class i{constructor(t){this.permisoService=t}permisos=[];permiso={medicoId:0,tipoPostergacion:"Por Hora",fechaInicio:new Date,estado:"Pendiente",motivo:""};isEditing=!1;estadosDisponibles=["Pendiente","Aprobada","Rechazada"];mostrarHoras=!0;ngOnInit(){this.loadPermisos(),this.onTipoPostergacionChange()}loadPermisos(){this.permisoService.getAllPermisos().subscribe(t=>{this.permisos=t,console.log("Permisos de postergaci\xF3n cargados:",this.permisos)})}createPermiso(){let t=this.preparePermisoData();this.permisoService.createPermiso(t).subscribe(e=>{console.log(e.message),this.loadPermisos(),this.clearForm()})}preparePermisoData(){let t=R({},this.permiso);return t.fechaInicio=this.formatDate(this.permiso.fechaInicio),t.horaInicio=this.permiso.horaInicio?this.formatTime(this.permiso.horaInicio):null,t.horaFin=this.permiso.horaFin?this.formatTime(this.permiso.horaFin):null,console.log("Datos preparados para enviar:",t),t}editPermiso(t){this.permiso=R({},t),this.isEditing=!0,this.onTipoPostergacionChange(),console.log("Editando permiso:",this.permiso)}updatePermiso(){if(this.permiso.postergacionId){let t=this.preparePermisoData();console.log("Actualizando permiso con ID:",this.permiso.postergacionId,"Datos:",t),this.permisoService.updatePermiso(this.permiso.postergacionId,t).subscribe(()=>{alert("Permiso de postergaci\xF3n actualizado."),this.loadPermisos(),this.clearForm()})}}deletePermiso(t){confirm("\xBFEst\xE1s seguro de eliminar este permiso de postergaci\xF3n?")&&(console.log("Eliminando permiso con ID:",t),this.permisoService.deletePermiso(t).subscribe(()=>{alert("Permiso de postergaci\xF3n eliminado."),this.loadPermisos()}))}changeEstado(t,e){t.estado=e,console.log("Cambiando estado del permiso:",t),this.permisoService.updatePermiso(t.postergacionId,t).subscribe(()=>{alert(`Estado cambiado a ${e}.`),this.loadPermisos()})}clearForm(){this.permiso={medicoId:0,tipoPostergacion:"Por Hora",fechaInicio:new Date,estado:"Pendiente",motivo:""},this.isEditing=!1,this.onTipoPostergacionChange()}onTipoPostergacionChange(){this.mostrarHoras=this.permiso.tipoPostergacion==="Por Hora"}formatDate(t){let e=new Date(t),n=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${e.getFullYear()}-${n}-${s}`}formatTime(t){let e=new Date(`1970-01-01T${t}`),n=String(e.getHours()).padStart(2,"0"),s=String(e.getMinutes()).padStart(2,"0"),l=String(e.getSeconds()).padStart(2,"0");return`${n}:${s}:${l}`}static \u0275fac=function(e){return new(e||i)(b(At))};static \u0275cmp=E({type:i,selectors:[["app-permiso-postergacion"]],standalone:!0,features:[I],decls:54,vars:8,consts:[[1,"container","mx-auto","p-4"],[1,"text-2xl","font-bold","mb-6"],[1,"bg-white","p-6","rounded-lg","shadow-md","mb-8",3,"ngSubmit"],[1,"mb-4"],["for","medicoId",1,"block","text-gray-700","font-semibold","mb-2"],["type","number","name","medicoId","required","",1,"w-full","p-2","border","border-gray-300","rounded",3,"ngModelChange","ngModel"],["for","tipoPostergacion",1,"block","text-gray-700","font-semibold","mb-2"],["name","tipoPostergacion","required","",1,"w-full","p-2","border","border-gray-300","rounded",3,"ngModelChange","ngModel"],["value","Por Hora"],["value","Por D\xEDa"],["for","fechaInicio",1,"block","text-gray-700","font-semibold","mb-2"],["type","date","name","fechaInicio","required","",1,"w-full","p-2","border","border-gray-300","rounded",3,"ngModelChange","ngModel"],["class","mb-4",4,"ngIf"],["for","motivo",1,"block","text-gray-700","font-semibold","mb-2"],["name","motivo","required","",1,"w-full","p-2","border","border-gray-300","rounded",3,"ngModelChange","ngModel"],[1,"flex","space-x-4"],["type","submit",1,"bg-blue-500","text-white","px-4","py-2","rounded"],["type","button",1,"bg-gray-500","text-white","px-4","py-2","rounded",3,"click"],[1,"w-full","bg-white","shadow-md","rounded-lg","overflow-hidden"],[1,"bg-gray-200"],[1,"py-2","px-4","text-left"],["class","border-t",4,"ngFor","ngForOf"],["for","horaInicio",1,"block","text-gray-700","font-semibold","mb-2"],["type","time","name","horaInicio",1,"w-full","p-2","border","border-gray-300","rounded",3,"ngModelChange","ngModel"],["for","horaFin",1,"block","text-gray-700","font-semibold","mb-2"],["type","time","name","horaFin",1,"w-full","p-2","border","border-gray-300","rounded",3,"ngModelChange","ngModel"],[1,"border-t"],[1,"py-2","px-4"],[1,"w-full","p-1","border","border-gray-300","rounded",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"bg-yellow-500","text-white","px-2","py-1","rounded","mr-2",3,"click"],[1,"bg-red-500","text-white","px-2","py-1","rounded",3,"click"],[3,"value"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"h2",1),a(2,"Gesti\xF3n de Permisos de Postergaci\xF3n"),o(),r(3,"form",2),p("ngSubmit",function(){return n.isEditing?n.updatePermiso():n.createPermiso()}),r(4,"div",3)(5,"label",4),a(6,"ID del M\xE9dico:"),o(),r(7,"input",5),y("ngModelChange",function(l){return _(n.permiso.medicoId,l)||(n.permiso.medicoId=l),l}),o()(),r(8,"div",3)(9,"label",6),a(10,"Tipo de Postergaci\xF3n:"),o(),r(11,"select",7),y("ngModelChange",function(l){return _(n.permiso.tipoPostergacion,l)||(n.permiso.tipoPostergacion=l),l}),r(12,"option",8),a(13,"Por Hora"),o(),r(14,"option",9),a(15,"Por D\xEDa"),o()()(),r(16,"div",3)(17,"label",10),a(18,"Fecha de Inicio:"),o(),r(19,"input",11),y("ngModelChange",function(l){return _(n.permiso.fechaInicio,l)||(n.permiso.fechaInicio=l),l}),o()(),h(20,Ao,4,1,"div",12)(21,No,4,1,"div",12),r(22,"div",3)(23,"label",13),a(24,"Motivo:"),o(),r(25,"textarea",14),y("ngModelChange",function(l){return _(n.permiso.motivo,l)||(n.permiso.motivo=l),l}),o()(),r(26,"div",15)(27,"button",16),a(28),o(),r(29,"button",17),p("click",function(){return n.clearForm()}),a(30,"Cancelar"),o()()(),r(31,"table",18)(32,"thead",19)(33,"tr")(34,"th",20),a(35,"ID"),o(),r(36,"th",20),a(37,"M\xE9dico"),o(),r(38,"th",20),a(39,"Tipo"),o(),r(40,"th",20),a(41,"Fecha Inicio"),o(),r(42,"th",20),a(43,"Hora Inicio"),o(),r(44,"th",20),a(45,"Hora Fin"),o(),r(46,"th",20),a(47,"Estado"),o(),r(48,"th",20),a(49,"Motivo"),o(),r(50,"th",20),a(51,"Acciones"),o()()(),r(52,"tbody"),h(53,Uo,24,11,"tr",21),o()()()),e&2&&(d(7),v("ngModel",n.permiso.medicoId),d(4),v("ngModel",n.permiso.tipoPostergacion),d(8),v("ngModel",n.permiso.fechaInicio),d(),c("ngIf",n.permiso.tipoPostergacion==="Por Hora"),d(),c("ngIf",n.permiso.tipoPostergacion==="Por Hora"),d(4),v("ngModel",n.permiso.motivo),d(3),S("",n.isEditing?"Actualizar":"Crear"," Permiso"),d(25),c("ngForOf",n.permisos))},dependencies:[P,A,T,de,F,ne,B,G,U,pe,j,O,ie,$,k,Q]})};function Ho(i,t){if(i&1){let e=x();r(0,"tr",15)(1,"td",16),a(2),o(),r(3,"td",16),a(4),o(),r(5,"td",16),a(6),o(),r(7,"td",16)(8,"button",17),p("click",function(){let s=g(e).$implicit,l=m();return f(l.editMedicamento(s))}),a(9,"Editar"),o(),r(10,"button",18),p("click",function(){let s=g(e).$implicit,l=m();return f(l.deleteMedicamento(s.id))}),a(11,"Eliminar"),o()()()}if(i&2){let e=t.$implicit;d(2),C(e.id),d(2),C(e.nombre),d(2),C(e.descripcion)}}var Tt=class i{constructor(t){this.medicamentoService=t}medicamentos=[];medicamento={nombre:"",descripcion:""};isEditing=!1;ngOnInit(){this.loadMedicamentos()}loadMedicamentos(){this.medicamentoService.getAllMedicamentos().subscribe(t=>{this.medicamentos=t})}createMedicamento(){this.medicamentoService.createMedicamento(this.medicamento).subscribe(()=>{this.loadMedicamentos(),this.clearForm()})}editMedicamento(t){this.medicamento=R({},t),this.isEditing=!0}updateMedicamento(){this.medicamento.id&&this.medicamentoService.updateMedicamento(this.medicamento.id,this.medicamento).subscribe(()=>{this.loadMedicamentos(),this.clearForm()})}deleteMedicamento(t){confirm("\xBFEst\xE1s seguro de eliminar este medicamento?")&&this.medicamentoService.deleteMedicamento(t).subscribe(()=>{this.loadMedicamentos()})}clearForm(){this.medicamento={nombre:"",descripcion:""},this.isEditing=!1}static \u0275fac=function(e){return new(e||i)(b(Pe))};static \u0275cmp=E({type:i,selectors:[["app-medicamento"]],standalone:!0,features:[I],decls:30,vars:4,consts:[[1,"container","mx-auto","p-4"],[1,"text-2xl","font-bold","mb-6"],[1,"bg-white","p-6","rounded-lg","shadow-md","mb-8",3,"ngSubmit"],[1,"mb-4"],["for","nombre",1,"block","text-gray-700","font-semibold","mb-2"],["type","text","name","nombre","required","",1,"w-full","p-2","border","border-gray-300","rounded",3,"ngModelChange","ngModel"],["for","descripcion",1,"block","text-gray-700","font-semibold","mb-2"],["name","descripcion","required","",1,"w-full","p-2","border","border-gray-300","rounded",3,"ngModelChange","ngModel"],[1,"flex","space-x-4"],["type","submit",1,"bg-blue-500","text-white","px-4","py-2","rounded"],["type","button",1,"bg-gray-500","text-white","px-4","py-2","rounded",3,"click"],[1,"w-full","bg-white","shadow-md","rounded-lg","overflow-hidden"],[1,"bg-gray-200"],[1,"py-2","px-4","text-left"],["class","border-t",4,"ngFor","ngForOf"],[1,"border-t"],[1,"py-2","px-4"],[1,"bg-yellow-500","text-white","px-2","py-1","rounded","mr-2",3,"click"],[1,"bg-red-500","text-white","px-2","py-1","rounded",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"h2",1),a(2,"Gesti\xF3n de Medicamentos"),o(),r(3,"form",2),p("ngSubmit",function(){return n.isEditing?n.updateMedicamento():n.createMedicamento()}),r(4,"div",3)(5,"label",4),a(6,"Nombre:"),o(),r(7,"input",5),y("ngModelChange",function(l){return _(n.medicamento.nombre,l)||(n.medicamento.nombre=l),l}),o()(),r(8,"div",3)(9,"label",6),a(10,"Descripci\xF3n:"),o(),r(11,"textarea",7),y("ngModelChange",function(l){return _(n.medicamento.descripcion,l)||(n.medicamento.descripcion=l),l}),o()(),r(12,"div",8)(13,"button",9),a(14),o(),r(15,"button",10),p("click",function(){return n.clearForm()}),a(16,"Cancelar"),o()()(),r(17,"table",11)(18,"thead",12)(19,"tr")(20,"th",13),a(21,"ID"),o(),r(22,"th",13),a(23,"Nombre"),o(),r(24,"th",13),a(25,"Descripci\xF3n"),o(),r(26,"th",13),a(27,"Acciones"),o()()(),r(28,"tbody"),h(29,Ho,12,3,"tr",14),o()()()),e&2&&(d(7),v("ngModel",n.medicamento.nombre),d(4),v("ngModel",n.medicamento.descripcion),d(3),S("",n.isEditing?"Actualizar":"Crear"," Medicamento"),d(15),c("ngForOf",n.medicamentos))},dependencies:[P,A,F,ne,U,O,ie,$,k,Q]})};var Qi=[{path:"admin",component:et,children:[{path:"roles",component:ct},{path:"users",component:mt},{path:"change-password",component:pt},{path:"permisos",component:Et},{path:"pacientes",component:ht},{path:"medicos",component:gt},{path:"especialidades",component:ft},{path:"asociar-especialidad-medico",component:bt},{path:"horario",component:yt},{path:"asignar",component:It},{path:"cupo",component:Dt},{path:"reserva",component:Vt},{path:"consulta",component:Rt},{path:"postergacion",component:Nt},{path:"medicamento",component:Tt},{path:"docu-laboratorio",component:xt},{path:"historial",component:Mt}]},{path:"login",component:ut},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"login"}];var en={providers:[ai({eventCoalescing:!0}),bi(Qi),hi(),ci(mi())]};var jo={providers:[gi()]},tn=li(en,jo);var Lo=()=>ui(Ye,tn),gl=Lo;export{gl as a};
